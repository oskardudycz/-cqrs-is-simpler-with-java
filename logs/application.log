2022-10-26 12:38:26,479 INFO i.e.e.a.c.AddProductItemToShoppingCartTests [Test worker] Starting AddProductItemToShoppingCartTests using Java 17.0.4.1 on pop-os with PID 3779 (started by oskar in /home/oskar/Repos/EventSourcing.JVM/samples/event-sourcing-esdb-simple)
2022-10-26 12:38:26,486 DEBUG i.e.e.a.c.AddProductItemToShoppingCartTests [Test worker] Running with Spring Boot v2.7.0, Spring v5.3.20
2022-10-26 12:38:26,487 INFO i.e.e.a.c.AddProductItemToShoppingCartTests [Test worker] No active profile set, falling back to 1 default profile: "default"
2022-10-26 12:38:31,057 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [Test worker] Subscribing to all 'default'
2022-10-26 12:38:31,093 INFO i.e.e.a.c.AddProductItemToShoppingCartTests [Test worker] Started AddProductItemToShoppingCartTests in 4.843 seconds (JVM running for 6.244)
2022-10-26 12:38:31,891 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-2] Checkpoint event - ignoring
2022-10-26 12:38:31,893 ERROR o.a.c.c.C.[.[.[.[dispatcherServlet] [http-nio-auto-1-exec-10] Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is java.lang.NullPointerException: Cannot invoke "io.eventdriven.ecommerce.shoppingcarts.productitems.ProductItems.add(io.eventdriven.ecommerce.shoppingcarts.productitems.PricedProductItem)" because the return value of "io.eventdriven.ecommerce.shoppingcarts.ShoppingCart.productItems()" is null] with root cause
java.lang.NullPointerException: Cannot invoke "io.eventdriven.ecommerce.shoppingcarts.productitems.ProductItems.add(io.eventdriven.ecommerce.shoppingcarts.productitems.PricedProductItem)" because the return value of "io.eventdriven.ecommerce.shoppingcarts.ShoppingCart.productItems()" is null
	at io.eventdriven.ecommerce.shoppingcarts.ShoppingCartDecider.handle(ShoppingCartDecider.java:49) ~[main/:?]
	at io.eventdriven.ecommerce.shoppingcarts.ShoppingCartDecider.handle(ShoppingCartDecider.java:22) ~[main/:?]
	at io.eventdriven.ecommerce.core.entities.CommandHandler.handle(CommandHandler.java:44) ~[main/:?]
	at io.eventdriven.ecommerce.core.entities.CommandHandler$$FastClassBySpringCGLIB$$18f75183.invoke(<generated>) ~[main/:?]
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218) ~[spring-core-5.3.20.jar:5.3.20]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:793) ~[spring-aop-5.3.20.jar:5.3.20]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-5.3.20.jar:5.3.20]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763) ~[spring-aop-5.3.20.jar:5.3.20]
	at org.springframework.aop.support.DelegatingIntroductionInterceptor.doProceed(DelegatingIntroductionInterceptor.java:137) ~[spring-aop-5.3.20.jar:5.3.20]
	at org.springframework.aop.support.DelegatingIntroductionInterceptor.invoke(DelegatingIntroductionInterceptor.java:124) ~[spring-aop-5.3.20.jar:5.3.20]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.20.jar:5.3.20]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763) ~[spring-aop-5.3.20.jar:5.3.20]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:708) ~[spring-aop-5.3.20.jar:5.3.20]
	at io.eventdriven.ecommerce.core.entities.CommandHandler$$EnhancerBySpringCGLIB$$2078b32b.handle(<generated>) ~[main/:?]
	at io.eventdriven.ecommerce.api.controller.ShoppingCartsController.addProduct(ShoppingCartsController.java:80) ~[main/:?]
	at jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[?:?]
	at jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[?:?]
	at jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[?:?]
	at java.lang.reflect.Method.invoke(Method.java:568) ~[?:?]
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:344) ~[spring-aop-5.3.20.jar:5.3.20]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:198) ~[spring-aop-5.3.20.jar:5.3.20]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:799) ~[spring-aop-5.3.20.jar:5.3.20]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-5.3.20.jar:5.3.20]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763) ~[spring-aop-5.3.20.jar:5.3.20]
	at org.springframework.validation.beanvalidation.MethodValidationInterceptor.invoke(MethodValidationInterceptor.java:123) ~[spring-context-5.3.20.jar:5.3.20]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.20.jar:5.3.20]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763) ~[spring-aop-5.3.20.jar:5.3.20]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:708) ~[spring-aop-5.3.20.jar:5.3.20]
	at io.eventdriven.ecommerce.api.controller.ShoppingCartsController$$EnhancerBySpringCGLIB$$7aaa8e14.addProduct(<generated>) ~[main/:?]
	at jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[?:?]
	at jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[?:?]
	at jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[?:?]
	at java.lang.reflect.Method.invoke(Method.java:568) ~[?:?]
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205) ~[spring-web-5.3.20.jar:5.3.20]
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150) ~[spring-web-5.3.20.jar:5.3.20]
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117) ~[spring-webmvc-5.3.20.jar:5.3.20]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895) ~[spring-webmvc-5.3.20.jar:5.3.20]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808) ~[spring-webmvc-5.3.20.jar:5.3.20]
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-5.3.20.jar:5.3.20]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1067) ~[spring-webmvc-5.3.20.jar:5.3.20]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:963) ~[spring-webmvc-5.3.20.jar:5.3.20]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006) ~[spring-webmvc-5.3.20.jar:5.3.20]
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909) ~[spring-webmvc-5.3.20.jar:5.3.20]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:681) ~[tomcat-embed-core-9.0.63.jar:4.0.FR]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883) ~[spring-webmvc-5.3.20.jar:5.3.20]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:764) ~[tomcat-embed-core-9.0.63.jar:4.0.FR]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:227) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53) ~[tomcat-embed-websocket-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-5.3.20.jar:5.3.20]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.20.jar:5.3.20]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-5.3.20.jar:5.3.20]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.20.jar:5.3.20]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-5.3.20.jar:5.3.20]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.20.jar:5.3.20]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:197) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:541) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:135) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:360) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:399) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:890) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1743) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at java.lang.Thread.run(Thread.java:833) ~[?:?]
2022-10-26 12:38:31,995 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-2] Checkpoint event - ignoring
2022-10-26 12:38:31,996 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-2] Checkpoint event - ignoring
2022-10-26 12:38:32,050 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-0] Checkpoint event - ignoring
2022-10-26 12:38:32,050 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-0] Checkpoint event - ignoring
2022-10-26 12:38:32,087 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-2] Checkpoint event - ignoring
2022-10-26 12:38:32,132 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-0] Checkpoint event - ignoring
2022-10-26 12:38:32,235 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-0] Checkpoint event - ignoring
2022-10-26 12:38:32,281 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-0] Checkpoint event - ignoring
2022-10-26 12:38:32,315 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-0] Checkpoint event - ignoring
2022-10-26 12:38:32,360 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-0] Checkpoint event - ignoring
2022-10-26 12:38:32,417 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-0] Checkpoint event - ignoring
2022-10-26 12:38:32,417 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-0] Checkpoint event - ignoring
2022-10-26 12:38:32,418 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-0] Checkpoint event - ignoring
2022-10-26 12:38:32,467 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-0] Checkpoint event - ignoring
2022-10-26 12:38:32,559 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-0] Checkpoint event - ignoring
2022-10-26 12:38:32,652 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-0] Checkpoint event - ignoring
2022-10-26 12:38:32,653 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-0] Checkpoint event - ignoring
2022-10-26 12:38:32,698 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-1] Checkpoint event - ignoring
2022-10-26 12:38:32,788 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-1] Checkpoint event - ignoring
2022-10-26 12:38:32,789 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-1] Checkpoint event - ignoring
2022-10-26 12:38:32,836 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-1] Checkpoint event - ignoring
2022-10-26 12:38:32,873 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-1] Checkpoint event - ignoring
2022-10-26 12:38:32,959 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-0] Checkpoint event - ignoring
2022-10-26 12:38:33,004 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-0] Checkpoint event - ignoring
2022-10-26 12:38:33,005 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-0] Checkpoint event - ignoring
2022-10-26 12:38:33,046 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-0] Checkpoint event - ignoring
2022-10-26 12:38:33,084 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-0] Checkpoint event - ignoring
2022-10-26 12:38:33,132 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-0] Checkpoint event - ignoring
2022-10-26 12:38:33,198 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-0] Checkpoint event - ignoring
2022-10-26 12:38:33,229 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-0] Checkpoint event - ignoring
2022-10-26 12:38:33,265 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-0] Checkpoint event - ignoring
2022-10-26 12:38:33,265 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-0] Checkpoint event - ignoring
2022-10-26 12:38:33,298 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-0] Checkpoint event - ignoring
2022-10-26 12:38:33,334 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-1] Checkpoint event - ignoring
2022-10-26 12:38:33,334 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-1] Checkpoint event - ignoring
2022-10-26 12:38:33,425 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-0] Checkpoint event - ignoring
2022-10-26 12:38:33,469 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-0] Checkpoint event - ignoring
2022-10-26 12:38:33,529 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-1] Checkpoint event - ignoring
2022-10-26 12:38:33,562 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-1] Checkpoint event - ignoring
2022-10-26 12:38:33,563 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-1] Checkpoint event - ignoring
2022-10-26 12:38:33,629 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-1] Checkpoint event - ignoring
2022-10-26 12:38:33,698 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-1] Checkpoint event - ignoring
2022-10-26 12:38:33,699 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-1] Checkpoint event - ignoring
2022-10-26 12:38:33,764 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-1] Checkpoint event - ignoring
2022-10-26 12:38:33,800 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-2] Checkpoint event - ignoring
2022-10-26 12:38:33,842 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-2] Checkpoint event - ignoring
2022-10-26 12:38:33,918 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-1] Checkpoint event - ignoring
2022-10-26 12:38:33,951 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-1] Checkpoint event - ignoring
2022-10-26 12:38:34,028 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-1] Checkpoint event - ignoring
2022-10-26 12:38:34,028 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-1] Checkpoint event - ignoring
2022-10-26 12:38:34,028 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-1] Checkpoint event - ignoring
2022-10-26 12:38:34,257 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-1] Checkpoint event - ignoring
2022-10-26 12:38:34,322 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-1] Checkpoint event - ignoring
2022-10-26 12:38:34,355 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-1] Checkpoint event - ignoring
2022-10-26 12:38:34,356 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-1] Checkpoint event - ignoring
2022-10-26 12:38:34,502 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-1] Checkpoint event - ignoring
2022-10-26 12:38:34,542 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-1] Checkpoint event - ignoring
2022-10-26 12:38:34,579 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-2] Checkpoint event - ignoring
2022-10-26 12:38:34,580 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-2] Checkpoint event - ignoring
2022-10-26 12:38:34,732 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-2] Checkpoint event - ignoring
2022-10-26 12:38:34,770 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-1] Checkpoint event - ignoring
2022-10-26 12:38:34,770 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-1] Checkpoint event - ignoring
2022-10-26 12:38:34,952 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-2] Checkpoint event - ignoring
2022-10-26 12:38:34,953 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-2] Checkpoint event - ignoring
2022-10-26 12:38:35,131 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-2] Checkpoint event - ignoring
2022-10-26 12:38:35,132 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-2] Checkpoint event - ignoring
2022-10-26 12:38:35,288 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-2] Checkpoint event - ignoring
2022-10-26 12:38:35,289 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-2] Checkpoint event - ignoring
2022-10-26 12:38:35,459 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-2] Checkpoint event - ignoring
2022-10-26 12:38:35,459 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-2] Checkpoint event - ignoring
2022-10-26 12:38:35,660 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-1] Checkpoint event - ignoring
2022-10-26 12:38:35,660 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-1] Checkpoint event - ignoring
2022-10-26 12:38:35,850 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-2] Checkpoint event - ignoring
2022-10-26 12:38:35,851 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-2] Checkpoint event - ignoring
2022-10-26 12:38:36,035 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-2] Checkpoint event - ignoring
2022-10-26 12:38:36,035 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-2] Checkpoint event - ignoring
2022-10-26 12:38:36,205 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-2] Checkpoint event - ignoring
2022-10-26 12:38:36,205 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-2] Checkpoint event - ignoring
2022-10-26 12:38:36,269 ERROR o.a.c.c.C.[.[.[.[dispatcherServlet] [http-nio-auto-1-exec-2] Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is java.lang.NullPointerException: Cannot invoke "io.eventdriven.ecommerce.shoppingcarts.productitems.ProductItems.assertThatCanRemove(io.eventdriven.ecommerce.shoppingcarts.productitems.PricedProductItem)" because the return value of "io.eventdriven.ecommerce.shoppingcarts.ShoppingCart.productItems()" is null] with root cause
java.lang.NullPointerException: Cannot invoke "io.eventdriven.ecommerce.shoppingcarts.productitems.ProductItems.assertThatCanRemove(io.eventdriven.ecommerce.shoppingcarts.productitems.PricedProductItem)" because the return value of "io.eventdriven.ecommerce.shoppingcarts.ShoppingCart.productItems()" is null
	at io.eventdriven.ecommerce.shoppingcarts.ShoppingCartDecider.handle(ShoppingCartDecider.java:64) ~[main/:?]
	at io.eventdriven.ecommerce.shoppingcarts.ShoppingCartDecider.handle(ShoppingCartDecider.java:24) ~[main/:?]
	at io.eventdriven.ecommerce.core.entities.CommandHandler.handle(CommandHandler.java:44) ~[main/:?]
	at io.eventdriven.ecommerce.core.entities.CommandHandler$$FastClassBySpringCGLIB$$18f75183.invoke(<generated>) ~[main/:?]
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218) ~[spring-core-5.3.20.jar:5.3.20]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:793) ~[spring-aop-5.3.20.jar:5.3.20]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-5.3.20.jar:5.3.20]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763) ~[spring-aop-5.3.20.jar:5.3.20]
	at org.springframework.aop.support.DelegatingIntroductionInterceptor.doProceed(DelegatingIntroductionInterceptor.java:137) ~[spring-aop-5.3.20.jar:5.3.20]
	at org.springframework.aop.support.DelegatingIntroductionInterceptor.invoke(DelegatingIntroductionInterceptor.java:124) ~[spring-aop-5.3.20.jar:5.3.20]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.20.jar:5.3.20]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763) ~[spring-aop-5.3.20.jar:5.3.20]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:708) ~[spring-aop-5.3.20.jar:5.3.20]
	at io.eventdriven.ecommerce.core.entities.CommandHandler$$EnhancerBySpringCGLIB$$2078b32b.handle(<generated>) ~[main/:?]
	at io.eventdriven.ecommerce.api.controller.ShoppingCartsController.removeProduct(ShoppingCartsController.java:106) ~[main/:?]
	at jdk.internal.reflect.GeneratedMethodAccessor155.invoke(Unknown Source) ~[?:?]
	at jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[?:?]
	at java.lang.reflect.Method.invoke(Method.java:568) ~[?:?]
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:344) ~[spring-aop-5.3.20.jar:5.3.20]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:198) ~[spring-aop-5.3.20.jar:5.3.20]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:799) ~[spring-aop-5.3.20.jar:5.3.20]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-5.3.20.jar:5.3.20]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763) ~[spring-aop-5.3.20.jar:5.3.20]
	at org.springframework.validation.beanvalidation.MethodValidationInterceptor.invoke(MethodValidationInterceptor.java:123) ~[spring-context-5.3.20.jar:5.3.20]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.20.jar:5.3.20]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763) ~[spring-aop-5.3.20.jar:5.3.20]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:708) ~[spring-aop-5.3.20.jar:5.3.20]
	at io.eventdriven.ecommerce.api.controller.ShoppingCartsController$$EnhancerBySpringCGLIB$$7aaa8e14.removeProduct(<generated>) ~[main/:?]
	at jdk.internal.reflect.GeneratedMethodAccessor155.invoke(Unknown Source) ~[?:?]
	at jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[?:?]
	at java.lang.reflect.Method.invoke(Method.java:568) ~[?:?]
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205) ~[spring-web-5.3.20.jar:5.3.20]
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150) ~[spring-web-5.3.20.jar:5.3.20]
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117) ~[spring-webmvc-5.3.20.jar:5.3.20]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895) ~[spring-webmvc-5.3.20.jar:5.3.20]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808) ~[spring-webmvc-5.3.20.jar:5.3.20]
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-5.3.20.jar:5.3.20]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1067) ~[spring-webmvc-5.3.20.jar:5.3.20]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:963) ~[spring-webmvc-5.3.20.jar:5.3.20]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006) ~[spring-webmvc-5.3.20.jar:5.3.20]
	at org.springframework.web.servlet.FrameworkServlet.doDelete(FrameworkServlet.java:931) ~[spring-webmvc-5.3.20.jar:5.3.20]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:687) ~[tomcat-embed-core-9.0.63.jar:4.0.FR]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883) ~[spring-webmvc-5.3.20.jar:5.3.20]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:764) ~[tomcat-embed-core-9.0.63.jar:4.0.FR]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:227) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53) ~[tomcat-embed-websocket-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-5.3.20.jar:5.3.20]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.20.jar:5.3.20]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-5.3.20.jar:5.3.20]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.20.jar:5.3.20]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-5.3.20.jar:5.3.20]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.20.jar:5.3.20]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:197) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:541) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:135) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:360) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:399) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:890) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1743) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at java.lang.Thread.run(Thread.java:833) ~[?:?]
2022-10-26 12:38:36,362 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-2] Checkpoint event - ignoring
2022-10-26 12:38:36,363 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-2] Checkpoint event - ignoring
2022-10-26 12:38:36,493 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-2] Checkpoint event - ignoring
2022-10-26 13:24:31,630 INFO i.e.e.a.c.AddProductItemToShoppingCartTests [Test worker] Starting AddProductItemToShoppingCartTests using Java 17.0.4.1 on pop-os with PID 5000 (started by oskar in /home/oskar/Repos/EventSourcing.JVM/samples/event-sourcing-esdb-simple)
2022-10-26 13:24:31,638 DEBUG i.e.e.a.c.AddProductItemToShoppingCartTests [Test worker] Running with Spring Boot v2.7.0, Spring v5.3.20
2022-10-26 13:24:31,639 INFO i.e.e.a.c.AddProductItemToShoppingCartTests [Test worker] No active profile set, falling back to 1 default profile: "default"
2022-10-26 13:24:36,731 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [Test worker] Subscribing to all 'default'
2022-10-26 13:24:36,754 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-0] Checkpoint event - ignoring
2022-10-26 13:24:36,765 INFO i.e.e.a.c.AddProductItemToShoppingCartTests [Test worker] Started AddProductItemToShoppingCartTests in 5.436 seconds (JVM running for 7.005)
2022-10-26 13:24:37,320 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-2] Checkpoint event - ignoring
2022-10-26 13:24:37,374 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-2] Checkpoint event - ignoring
2022-10-26 13:24:37,418 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-0] Checkpoint event - ignoring
2022-10-26 13:24:37,419 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-0] Checkpoint event - ignoring
2022-10-26 13:24:37,449 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-2] Checkpoint event - ignoring
2022-10-26 13:24:37,453 ERROR o.a.c.c.C.[.[.[.[dispatcherServlet] [http-nio-auto-1-exec-10] Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is java.lang.NullPointerException: Cannot invoke "io.eventdriven.ecommerce.shoppingcarts.productitems.ProductItems.add(io.eventdriven.ecommerce.shoppingcarts.productitems.PricedProductItem)" because the return value of "io.eventdriven.ecommerce.shoppingcarts.ShoppingCart.productItems()" is null] with root cause
java.lang.NullPointerException: Cannot invoke "io.eventdriven.ecommerce.shoppingcarts.productitems.ProductItems.add(io.eventdriven.ecommerce.shoppingcarts.productitems.PricedProductItem)" because the return value of "io.eventdriven.ecommerce.shoppingcarts.ShoppingCart.productItems()" is null
	at io.eventdriven.ecommerce.shoppingcarts.ShoppingCartDecider.handle(ShoppingCartDecider.java:49) ~[main/:?]
	at io.eventdriven.ecommerce.shoppingcarts.ShoppingCartDecider.handle(ShoppingCartDecider.java:22) ~[main/:?]
	at io.eventdriven.ecommerce.core.entities.CommandHandler.handle(CommandHandler.java:44) ~[main/:?]
	at io.eventdriven.ecommerce.core.entities.CommandHandler$$FastClassBySpringCGLIB$$18f75183.invoke(<generated>) ~[main/:?]
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218) ~[spring-core-5.3.20.jar:5.3.20]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:793) ~[spring-aop-5.3.20.jar:5.3.20]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-5.3.20.jar:5.3.20]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763) ~[spring-aop-5.3.20.jar:5.3.20]
	at org.springframework.aop.support.DelegatingIntroductionInterceptor.doProceed(DelegatingIntroductionInterceptor.java:137) ~[spring-aop-5.3.20.jar:5.3.20]
	at org.springframework.aop.support.DelegatingIntroductionInterceptor.invoke(DelegatingIntroductionInterceptor.java:124) ~[spring-aop-5.3.20.jar:5.3.20]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.20.jar:5.3.20]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763) ~[spring-aop-5.3.20.jar:5.3.20]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:708) ~[spring-aop-5.3.20.jar:5.3.20]
	at io.eventdriven.ecommerce.core.entities.CommandHandler$$EnhancerBySpringCGLIB$$323f9eee.handle(<generated>) ~[main/:?]
	at io.eventdriven.ecommerce.api.controllers.ShoppingCartsCommandController.addProduct(ShoppingCartsCommandController.java:78) ~[main/:?]
	at jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[?:?]
	at jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[?:?]
	at jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[?:?]
	at java.lang.reflect.Method.invoke(Method.java:568) ~[?:?]
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:344) ~[spring-aop-5.3.20.jar:5.3.20]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:198) ~[spring-aop-5.3.20.jar:5.3.20]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:799) ~[spring-aop-5.3.20.jar:5.3.20]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-5.3.20.jar:5.3.20]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763) ~[spring-aop-5.3.20.jar:5.3.20]
	at org.springframework.validation.beanvalidation.MethodValidationInterceptor.invoke(MethodValidationInterceptor.java:123) ~[spring-context-5.3.20.jar:5.3.20]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.20.jar:5.3.20]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763) ~[spring-aop-5.3.20.jar:5.3.20]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:708) ~[spring-aop-5.3.20.jar:5.3.20]
	at io.eventdriven.ecommerce.api.controllers.ShoppingCartsCommandController$$EnhancerBySpringCGLIB$$f2d96f78.addProduct(<generated>) ~[main/:?]
	at jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[?:?]
	at jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[?:?]
	at jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[?:?]
	at java.lang.reflect.Method.invoke(Method.java:568) ~[?:?]
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205) ~[spring-web-5.3.20.jar:5.3.20]
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150) ~[spring-web-5.3.20.jar:5.3.20]
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117) ~[spring-webmvc-5.3.20.jar:5.3.20]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895) ~[spring-webmvc-5.3.20.jar:5.3.20]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808) ~[spring-webmvc-5.3.20.jar:5.3.20]
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-5.3.20.jar:5.3.20]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1067) ~[spring-webmvc-5.3.20.jar:5.3.20]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:963) ~[spring-webmvc-5.3.20.jar:5.3.20]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006) ~[spring-webmvc-5.3.20.jar:5.3.20]
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909) ~[spring-webmvc-5.3.20.jar:5.3.20]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:681) ~[tomcat-embed-core-9.0.63.jar:4.0.FR]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883) ~[spring-webmvc-5.3.20.jar:5.3.20]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:764) ~[tomcat-embed-core-9.0.63.jar:4.0.FR]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:227) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53) ~[tomcat-embed-websocket-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-5.3.20.jar:5.3.20]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.20.jar:5.3.20]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-5.3.20.jar:5.3.20]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.20.jar:5.3.20]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-5.3.20.jar:5.3.20]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.20.jar:5.3.20]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:197) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:541) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:135) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:360) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:399) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:890) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1743) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at java.lang.Thread.run(Thread.java:833) ~[?:?]
2022-10-26 13:24:37,478 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-0] Checkpoint event - ignoring
2022-10-26 13:24:37,479 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-0] Checkpoint event - ignoring
2022-10-26 13:24:37,566 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-2] Checkpoint event - ignoring
2022-10-26 13:24:37,623 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-2] Checkpoint event - ignoring
2022-10-26 13:24:37,700 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-2] Checkpoint event - ignoring
2022-10-26 13:24:37,726 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-2] Checkpoint event - ignoring
2022-10-26 13:24:37,756 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-2] Checkpoint event - ignoring
2022-10-26 13:24:37,757 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-2] Checkpoint event - ignoring
2022-10-26 13:24:37,793 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-0] Checkpoint event - ignoring
2022-10-26 13:24:37,794 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-0] Checkpoint event - ignoring
2022-10-26 13:24:37,859 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-2] Checkpoint event - ignoring
2022-10-26 13:24:37,959 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-2] Checkpoint event - ignoring
2022-10-26 13:24:38,005 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-0] Checkpoint event - ignoring
2022-10-26 13:24:38,044 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-2] Checkpoint event - ignoring
2022-10-26 13:24:38,115 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-0] Checkpoint event - ignoring
2022-10-26 13:24:38,149 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-0] Checkpoint event - ignoring
2022-10-26 13:24:38,179 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-0] Checkpoint event - ignoring
2022-10-26 13:24:38,180 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-0] Checkpoint event - ignoring
2022-10-26 13:24:38,270 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-0] Checkpoint event - ignoring
2022-10-26 13:24:38,305 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-0] Checkpoint event - ignoring
2022-10-26 13:24:38,337 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-0] Checkpoint event - ignoring
2022-10-26 13:24:38,338 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-0] Checkpoint event - ignoring
2022-10-26 13:24:38,454 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-0] Checkpoint event - ignoring
2022-10-26 13:24:38,500 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-0] Checkpoint event - ignoring
2022-10-26 13:24:38,541 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-0] Checkpoint event - ignoring
2022-10-26 13:24:38,624 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-0] Checkpoint event - ignoring
2022-10-26 13:24:38,654 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-0] Checkpoint event - ignoring
2022-10-26 13:24:38,655 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-0] Checkpoint event - ignoring
2022-10-26 13:24:38,705 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-0] Checkpoint event - ignoring
2022-10-26 13:24:38,744 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-0] Checkpoint event - ignoring
2022-10-26 13:24:38,744 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-0] Checkpoint event - ignoring
2022-10-26 13:24:38,823 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-2] Checkpoint event - ignoring
2022-10-26 13:24:38,857 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-2] Checkpoint event - ignoring
2022-10-26 13:24:38,857 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-2] Checkpoint event - ignoring
2022-10-26 13:24:38,925 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-2] Checkpoint event - ignoring
2022-10-26 13:24:38,959 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-2] Checkpoint event - ignoring
2022-10-26 13:24:39,000 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-2] Checkpoint event - ignoring
2022-10-26 13:24:39,041 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-2] Checkpoint event - ignoring
2022-10-26 13:24:39,070 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-2] Checkpoint event - ignoring
2022-10-26 13:24:39,071 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-2] Checkpoint event - ignoring
2022-10-26 13:24:39,156 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-2] Checkpoint event - ignoring
2022-10-26 13:24:39,194 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-2] Checkpoint event - ignoring
2022-10-26 13:24:39,233 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-0] Checkpoint event - ignoring
2022-10-26 13:24:39,266 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-0] Checkpoint event - ignoring
2022-10-26 13:24:39,304 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-0] Checkpoint event - ignoring
2022-10-26 13:24:39,304 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-0] Checkpoint event - ignoring
2022-10-26 13:24:39,413 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-0] Checkpoint event - ignoring
2022-10-26 13:24:39,413 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-0] Checkpoint event - ignoring
2022-10-26 13:24:39,485 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-0] Checkpoint event - ignoring
2022-10-26 13:24:39,485 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-0] Checkpoint event - ignoring
2022-10-26 13:24:39,651 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-0] Checkpoint event - ignoring
2022-10-26 13:24:39,679 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-0] Checkpoint event - ignoring
2022-10-26 13:24:39,720 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-1] Checkpoint event - ignoring
2022-10-26 13:24:39,720 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-1] Checkpoint event - ignoring
2022-10-26 13:24:39,878 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-0] Checkpoint event - ignoring
2022-10-26 13:24:39,923 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-0] Checkpoint event - ignoring
2022-10-26 13:24:39,923 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-0] Checkpoint event - ignoring
2022-10-26 13:24:40,086 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-0] Checkpoint event - ignoring
2022-10-26 13:24:40,087 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-0] Checkpoint event - ignoring
2022-10-26 13:24:40,262 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-0] Checkpoint event - ignoring
2022-10-26 13:24:40,263 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-0] Checkpoint event - ignoring
2022-10-26 13:24:40,425 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-2] Checkpoint event - ignoring
2022-10-26 13:24:40,426 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-2] Checkpoint event - ignoring
2022-10-26 13:24:40,615 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-2] Checkpoint event - ignoring
2022-10-26 13:24:40,616 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-2] Checkpoint event - ignoring
2022-10-26 13:24:40,783 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-0] Checkpoint event - ignoring
2022-10-26 13:24:40,784 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-0] Checkpoint event - ignoring
2022-10-26 13:24:40,954 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-0] Checkpoint event - ignoring
2022-10-26 13:24:40,955 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-0] Checkpoint event - ignoring
2022-10-26 13:24:41,129 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-0] Checkpoint event - ignoring
2022-10-26 13:24:41,129 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-0] Checkpoint event - ignoring
2022-10-26 13:24:41,300 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-2] Checkpoint event - ignoring
2022-10-26 13:24:41,300 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-2] Checkpoint event - ignoring
2022-10-26 13:24:41,382 ERROR o.a.c.c.C.[.[.[.[dispatcherServlet] [http-nio-auto-1-exec-9] Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is java.lang.NullPointerException: Cannot invoke "io.eventdriven.ecommerce.shoppingcarts.productitems.ProductItems.assertThatCanRemove(io.eventdriven.ecommerce.shoppingcarts.productitems.PricedProductItem)" because the return value of "io.eventdriven.ecommerce.shoppingcarts.ShoppingCart.productItems()" is null] with root cause
java.lang.NullPointerException: Cannot invoke "io.eventdriven.ecommerce.shoppingcarts.productitems.ProductItems.assertThatCanRemove(io.eventdriven.ecommerce.shoppingcarts.productitems.PricedProductItem)" because the return value of "io.eventdriven.ecommerce.shoppingcarts.ShoppingCart.productItems()" is null
	at io.eventdriven.ecommerce.shoppingcarts.ShoppingCartDecider.handle(ShoppingCartDecider.java:64) ~[main/:?]
	at io.eventdriven.ecommerce.shoppingcarts.ShoppingCartDecider.handle(ShoppingCartDecider.java:24) ~[main/:?]
	at io.eventdriven.ecommerce.core.entities.CommandHandler.handle(CommandHandler.java:44) ~[main/:?]
	at io.eventdriven.ecommerce.core.entities.CommandHandler$$FastClassBySpringCGLIB$$18f75183.invoke(<generated>) ~[main/:?]
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218) ~[spring-core-5.3.20.jar:5.3.20]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:793) ~[spring-aop-5.3.20.jar:5.3.20]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-5.3.20.jar:5.3.20]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763) ~[spring-aop-5.3.20.jar:5.3.20]
	at org.springframework.aop.support.DelegatingIntroductionInterceptor.doProceed(DelegatingIntroductionInterceptor.java:137) ~[spring-aop-5.3.20.jar:5.3.20]
	at org.springframework.aop.support.DelegatingIntroductionInterceptor.invoke(DelegatingIntroductionInterceptor.java:124) ~[spring-aop-5.3.20.jar:5.3.20]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.20.jar:5.3.20]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763) ~[spring-aop-5.3.20.jar:5.3.20]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:708) ~[spring-aop-5.3.20.jar:5.3.20]
	at io.eventdriven.ecommerce.core.entities.CommandHandler$$EnhancerBySpringCGLIB$$323f9eee.handle(<generated>) ~[main/:?]
	at io.eventdriven.ecommerce.api.controllers.ShoppingCartsCommandController.removeProduct(ShoppingCartsCommandController.java:104) ~[main/:?]
	at jdk.internal.reflect.GeneratedMethodAccessor154.invoke(Unknown Source) ~[?:?]
	at jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[?:?]
	at java.lang.reflect.Method.invoke(Method.java:568) ~[?:?]
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:344) ~[spring-aop-5.3.20.jar:5.3.20]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:198) ~[spring-aop-5.3.20.jar:5.3.20]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:799) ~[spring-aop-5.3.20.jar:5.3.20]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-5.3.20.jar:5.3.20]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763) ~[spring-aop-5.3.20.jar:5.3.20]
	at org.springframework.validation.beanvalidation.MethodValidationInterceptor.invoke(MethodValidationInterceptor.java:123) ~[spring-context-5.3.20.jar:5.3.20]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.20.jar:5.3.20]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763) ~[spring-aop-5.3.20.jar:5.3.20]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:708) ~[spring-aop-5.3.20.jar:5.3.20]
	at io.eventdriven.ecommerce.api.controllers.ShoppingCartsCommandController$$EnhancerBySpringCGLIB$$f2d96f78.removeProduct(<generated>) ~[main/:?]
	at jdk.internal.reflect.GeneratedMethodAccessor154.invoke(Unknown Source) ~[?:?]
	at jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[?:?]
	at java.lang.reflect.Method.invoke(Method.java:568) ~[?:?]
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205) ~[spring-web-5.3.20.jar:5.3.20]
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150) ~[spring-web-5.3.20.jar:5.3.20]
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117) ~[spring-webmvc-5.3.20.jar:5.3.20]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895) ~[spring-webmvc-5.3.20.jar:5.3.20]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808) ~[spring-webmvc-5.3.20.jar:5.3.20]
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-5.3.20.jar:5.3.20]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1067) ~[spring-webmvc-5.3.20.jar:5.3.20]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:963) ~[spring-webmvc-5.3.20.jar:5.3.20]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006) ~[spring-webmvc-5.3.20.jar:5.3.20]
	at org.springframework.web.servlet.FrameworkServlet.doDelete(FrameworkServlet.java:931) ~[spring-webmvc-5.3.20.jar:5.3.20]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:687) ~[tomcat-embed-core-9.0.63.jar:4.0.FR]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883) ~[spring-webmvc-5.3.20.jar:5.3.20]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:764) ~[tomcat-embed-core-9.0.63.jar:4.0.FR]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:227) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53) ~[tomcat-embed-websocket-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-5.3.20.jar:5.3.20]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.20.jar:5.3.20]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-5.3.20.jar:5.3.20]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.20.jar:5.3.20]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-5.3.20.jar:5.3.20]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.20.jar:5.3.20]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:197) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:541) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:135) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:360) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:399) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:890) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1743) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at java.lang.Thread.run(Thread.java:833) ~[?:?]
2022-10-26 13:24:41,477 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-2] Checkpoint event - ignoring
2022-10-26 13:24:41,478 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-2] Checkpoint event - ignoring
2022-10-26 13:24:41,610 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-2] Checkpoint event - ignoring
2022-10-26 13:24:41,665 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-1] Checkpoint event - ignoring
2022-10-26 13:45:19,948 INFO i.e.e.a.c.AddProductItemToShoppingCartTests [Test worker] Starting AddProductItemToShoppingCartTests using Java 17.0.4.1 on pop-os with PID 6109 (started by oskar in /home/oskar/Repos/EventSourcing.JVM/samples/event-sourcing-esdb-simple)
2022-10-26 13:45:19,956 DEBUG i.e.e.a.c.AddProductItemToShoppingCartTests [Test worker] Running with Spring Boot v2.7.0, Spring v5.3.20
2022-10-26 13:45:19,957 INFO i.e.e.a.c.AddProductItemToShoppingCartTests [Test worker] No active profile set, falling back to 1 default profile: "default"
2022-10-26 13:45:25,302 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [Test worker] Subscribing to all 'default'
2022-10-26 13:45:25,321 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-0] Checkpoint event - ignoring
2022-10-26 13:45:25,334 INFO i.e.e.a.c.AddProductItemToShoppingCartTests [Test worker] Started AddProductItemToShoppingCartTests in 5.685 seconds (JVM running for 7.109)
2022-10-26 13:45:26,024 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-2] Checkpoint event - ignoring
2022-10-26 13:45:26,028 ERROR o.a.c.c.C.[.[.[.[dispatcherServlet] [http-nio-auto-1-exec-10] Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is java.lang.NullPointerException: Cannot invoke "io.eventdriven.ecommerce.shoppingcarts.productitems.ProductItems.add(io.eventdriven.ecommerce.shoppingcarts.productitems.PricedProductItem)" because the return value of "io.eventdriven.ecommerce.shoppingcarts.ShoppingCart.productItems()" is null] with root cause
java.lang.NullPointerException: Cannot invoke "io.eventdriven.ecommerce.shoppingcarts.productitems.ProductItems.add(io.eventdriven.ecommerce.shoppingcarts.productitems.PricedProductItem)" because the return value of "io.eventdriven.ecommerce.shoppingcarts.ShoppingCart.productItems()" is null
	at io.eventdriven.ecommerce.shoppingcarts.ShoppingCartDecider.handle(ShoppingCartDecider.java:49) ~[main/:?]
	at io.eventdriven.ecommerce.shoppingcarts.ShoppingCartDecider.handle(ShoppingCartDecider.java:22) ~[main/:?]
	at io.eventdriven.ecommerce.core.entities.CommandHandler.handle(CommandHandler.java:44) ~[main/:?]
	at io.eventdriven.ecommerce.core.entities.CommandHandler$$FastClassBySpringCGLIB$$18f75183.invoke(<generated>) ~[main/:?]
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218) ~[spring-core-5.3.20.jar:5.3.20]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:793) ~[spring-aop-5.3.20.jar:5.3.20]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-5.3.20.jar:5.3.20]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763) ~[spring-aop-5.3.20.jar:5.3.20]
	at org.springframework.aop.support.DelegatingIntroductionInterceptor.doProceed(DelegatingIntroductionInterceptor.java:137) ~[spring-aop-5.3.20.jar:5.3.20]
	at org.springframework.aop.support.DelegatingIntroductionInterceptor.invoke(DelegatingIntroductionInterceptor.java:124) ~[spring-aop-5.3.20.jar:5.3.20]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.20.jar:5.3.20]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763) ~[spring-aop-5.3.20.jar:5.3.20]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:708) ~[spring-aop-5.3.20.jar:5.3.20]
	at io.eventdriven.ecommerce.core.entities.CommandHandler$$EnhancerBySpringCGLIB$$3979fbaa.handle(<generated>) ~[main/:?]
	at io.eventdriven.ecommerce.api.controllers.ShoppingCartsCommandController.addProduct(ShoppingCartsCommandController.java:71) ~[main/:?]
	at jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[?:?]
	at jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[?:?]
	at jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[?:?]
	at java.lang.reflect.Method.invoke(Method.java:568) ~[?:?]
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:344) ~[spring-aop-5.3.20.jar:5.3.20]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:198) ~[spring-aop-5.3.20.jar:5.3.20]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:799) ~[spring-aop-5.3.20.jar:5.3.20]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-5.3.20.jar:5.3.20]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763) ~[spring-aop-5.3.20.jar:5.3.20]
	at org.springframework.validation.beanvalidation.MethodValidationInterceptor.invoke(MethodValidationInterceptor.java:123) ~[spring-context-5.3.20.jar:5.3.20]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.20.jar:5.3.20]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763) ~[spring-aop-5.3.20.jar:5.3.20]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:708) ~[spring-aop-5.3.20.jar:5.3.20]
	at io.eventdriven.ecommerce.api.controllers.ShoppingCartsCommandController$$EnhancerBySpringCGLIB$$c5f470ce.addProduct(<generated>) ~[main/:?]
	at jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[?:?]
	at jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[?:?]
	at jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[?:?]
	at java.lang.reflect.Method.invoke(Method.java:568) ~[?:?]
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205) ~[spring-web-5.3.20.jar:5.3.20]
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150) ~[spring-web-5.3.20.jar:5.3.20]
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117) ~[spring-webmvc-5.3.20.jar:5.3.20]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895) ~[spring-webmvc-5.3.20.jar:5.3.20]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808) ~[spring-webmvc-5.3.20.jar:5.3.20]
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-5.3.20.jar:5.3.20]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1067) ~[spring-webmvc-5.3.20.jar:5.3.20]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:963) ~[spring-webmvc-5.3.20.jar:5.3.20]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006) ~[spring-webmvc-5.3.20.jar:5.3.20]
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909) ~[spring-webmvc-5.3.20.jar:5.3.20]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:681) ~[tomcat-embed-core-9.0.63.jar:4.0.FR]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883) ~[spring-webmvc-5.3.20.jar:5.3.20]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:764) ~[tomcat-embed-core-9.0.63.jar:4.0.FR]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:227) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53) ~[tomcat-embed-websocket-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-5.3.20.jar:5.3.20]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.20.jar:5.3.20]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-5.3.20.jar:5.3.20]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.20.jar:5.3.20]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-5.3.20.jar:5.3.20]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.20.jar:5.3.20]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:197) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:541) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:135) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:360) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:399) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:890) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1743) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at java.lang.Thread.run(Thread.java:833) ~[?:?]
2022-10-26 13:45:26,093 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-2] Checkpoint event - ignoring
2022-10-26 13:45:26,094 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-2] Checkpoint event - ignoring
2022-10-26 13:45:26,128 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-2] Checkpoint event - ignoring
2022-10-26 13:45:26,129 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-2] Checkpoint event - ignoring
2022-10-26 13:45:26,129 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-2] Checkpoint event - ignoring
2022-10-26 13:45:26,186 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-0] Checkpoint event - ignoring
2022-10-26 13:45:26,226 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-0] Checkpoint event - ignoring
2022-10-26 13:45:26,276 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-0] Checkpoint event - ignoring
2022-10-26 13:45:26,315 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-2] Checkpoint event - ignoring
2022-10-26 13:45:26,345 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-2] Checkpoint event - ignoring
2022-10-26 13:45:26,388 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-2] Checkpoint event - ignoring
2022-10-26 13:45:26,389 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-2] Checkpoint event - ignoring
2022-10-26 13:45:26,419 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-2] Checkpoint event - ignoring
2022-10-26 13:45:26,420 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-2] Checkpoint event - ignoring
2022-10-26 13:45:26,479 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-0] Checkpoint event - ignoring
2022-10-26 13:45:26,531 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-0] Checkpoint event - ignoring
2022-10-26 13:45:26,582 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-0] Checkpoint event - ignoring
2022-10-26 13:45:26,624 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-0] Checkpoint event - ignoring
2022-10-26 13:45:26,720 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-2] Checkpoint event - ignoring
2022-10-26 13:45:26,761 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-2] Checkpoint event - ignoring
2022-10-26 13:45:26,799 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-2] Checkpoint event - ignoring
2022-10-26 13:45:26,800 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-2] Checkpoint event - ignoring
2022-10-26 13:45:26,882 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-2] Checkpoint event - ignoring
2022-10-26 13:45:26,923 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-2] Checkpoint event - ignoring
2022-10-26 13:45:26,926 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-2] Checkpoint event - ignoring
2022-10-26 13:45:27,042 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-2] Checkpoint event - ignoring
2022-10-26 13:45:27,163 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-2] Checkpoint event - ignoring
2022-10-26 13:45:27,207 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-2] Checkpoint event - ignoring
2022-10-26 13:45:27,272 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-2] Checkpoint event - ignoring
2022-10-26 13:45:27,353 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-2] Checkpoint event - ignoring
2022-10-26 13:45:27,394 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-2] Checkpoint event - ignoring
2022-10-26 13:45:27,427 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-0] Checkpoint event - ignoring
2022-10-26 13:45:27,467 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-0] Checkpoint event - ignoring
2022-10-26 13:45:27,468 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-0] Checkpoint event - ignoring
2022-10-26 13:45:27,503 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-0] Checkpoint event - ignoring
2022-10-26 13:45:27,586 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-2] Checkpoint event - ignoring
2022-10-26 13:45:27,587 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-2] Checkpoint event - ignoring
2022-10-26 13:45:27,618 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-2] Checkpoint event - ignoring
2022-10-26 13:45:27,693 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-0] Checkpoint event - ignoring
2022-10-26 13:45:27,722 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-0] Checkpoint event - ignoring
2022-10-26 13:45:27,756 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-0] Checkpoint event - ignoring
2022-10-26 13:45:27,799 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-0] Checkpoint event - ignoring
2022-10-26 13:45:27,799 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-0] Checkpoint event - ignoring
2022-10-26 13:45:27,824 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-0] Checkpoint event - ignoring
2022-10-26 13:45:27,908 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-0] Checkpoint event - ignoring
2022-10-26 13:45:27,939 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-0] Checkpoint event - ignoring
2022-10-26 13:45:27,964 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-2] Checkpoint event - ignoring
2022-10-26 13:45:28,008 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-2] Checkpoint event - ignoring
2022-10-26 13:45:28,009 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-2] Checkpoint event - ignoring
2022-10-26 13:45:28,009 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-2] Checkpoint event - ignoring
2022-10-26 13:45:28,200 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-2] Checkpoint event - ignoring
2022-10-26 13:45:28,239 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-2] Checkpoint event - ignoring
2022-10-26 13:45:28,275 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-2] Checkpoint event - ignoring
2022-10-26 13:45:28,276 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-2] Checkpoint event - ignoring
2022-10-26 13:45:28,442 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-2] Checkpoint event - ignoring
2022-10-26 13:45:28,502 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-0] Checkpoint event - ignoring
2022-10-26 13:45:28,539 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-2] Checkpoint event - ignoring
2022-10-26 13:45:28,540 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-2] Checkpoint event - ignoring
2022-10-26 13:45:28,722 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-0] Checkpoint event - ignoring
2022-10-26 13:45:28,757 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-0] Checkpoint event - ignoring
2022-10-26 13:45:28,758 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-0] Checkpoint event - ignoring
2022-10-26 13:45:28,953 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-0] Checkpoint event - ignoring
2022-10-26 13:45:28,953 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-0] Checkpoint event - ignoring
2022-10-26 13:45:29,129 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-0] Checkpoint event - ignoring
2022-10-26 13:45:29,130 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-0] Checkpoint event - ignoring
2022-10-26 13:45:29,266 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-0] Checkpoint event - ignoring
2022-10-26 13:45:29,266 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-0] Checkpoint event - ignoring
2022-10-26 13:45:29,444 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-2] Checkpoint event - ignoring
2022-10-26 13:45:29,445 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-2] Checkpoint event - ignoring
2022-10-26 13:45:29,600 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-0] Checkpoint event - ignoring
2022-10-26 13:45:29,600 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-0] Checkpoint event - ignoring
2022-10-26 13:45:29,785 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-0] Checkpoint event - ignoring
2022-10-26 13:45:29,785 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-0] Checkpoint event - ignoring
2022-10-26 13:45:29,956 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-2] Checkpoint event - ignoring
2022-10-26 13:45:29,956 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-2] Checkpoint event - ignoring
2022-10-26 13:45:30,115 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-2] Checkpoint event - ignoring
2022-10-26 13:45:30,116 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-2] Checkpoint event - ignoring
2022-10-26 13:45:30,191 ERROR o.a.c.c.C.[.[.[.[dispatcherServlet] [http-nio-auto-1-exec-10] Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is java.lang.NullPointerException: Cannot invoke "io.eventdriven.ecommerce.shoppingcarts.productitems.ProductItems.assertThatCanRemove(io.eventdriven.ecommerce.shoppingcarts.productitems.PricedProductItem)" because the return value of "io.eventdriven.ecommerce.shoppingcarts.ShoppingCart.productItems()" is null] with root cause
java.lang.NullPointerException: Cannot invoke "io.eventdriven.ecommerce.shoppingcarts.productitems.ProductItems.assertThatCanRemove(io.eventdriven.ecommerce.shoppingcarts.productitems.PricedProductItem)" because the return value of "io.eventdriven.ecommerce.shoppingcarts.ShoppingCart.productItems()" is null
	at io.eventdriven.ecommerce.shoppingcarts.ShoppingCartDecider.handle(ShoppingCartDecider.java:64) ~[main/:?]
	at io.eventdriven.ecommerce.shoppingcarts.ShoppingCartDecider.handle(ShoppingCartDecider.java:24) ~[main/:?]
	at io.eventdriven.ecommerce.core.entities.CommandHandler.handle(CommandHandler.java:44) ~[main/:?]
	at io.eventdriven.ecommerce.core.entities.CommandHandler$$FastClassBySpringCGLIB$$18f75183.invoke(<generated>) ~[main/:?]
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218) ~[spring-core-5.3.20.jar:5.3.20]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:793) ~[spring-aop-5.3.20.jar:5.3.20]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-5.3.20.jar:5.3.20]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763) ~[spring-aop-5.3.20.jar:5.3.20]
	at org.springframework.aop.support.DelegatingIntroductionInterceptor.doProceed(DelegatingIntroductionInterceptor.java:137) ~[spring-aop-5.3.20.jar:5.3.20]
	at org.springframework.aop.support.DelegatingIntroductionInterceptor.invoke(DelegatingIntroductionInterceptor.java:124) ~[spring-aop-5.3.20.jar:5.3.20]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.20.jar:5.3.20]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763) ~[spring-aop-5.3.20.jar:5.3.20]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:708) ~[spring-aop-5.3.20.jar:5.3.20]
	at io.eventdriven.ecommerce.core.entities.CommandHandler$$EnhancerBySpringCGLIB$$3979fbaa.handle(<generated>) ~[main/:?]
	at io.eventdriven.ecommerce.api.controllers.ShoppingCartsCommandController.removeProduct(ShoppingCartsCommandController.java:97) ~[main/:?]
	at jdk.internal.reflect.GeneratedMethodAccessor154.invoke(Unknown Source) ~[?:?]
	at jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[?:?]
	at java.lang.reflect.Method.invoke(Method.java:568) ~[?:?]
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:344) ~[spring-aop-5.3.20.jar:5.3.20]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:198) ~[spring-aop-5.3.20.jar:5.3.20]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:799) ~[spring-aop-5.3.20.jar:5.3.20]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-5.3.20.jar:5.3.20]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763) ~[spring-aop-5.3.20.jar:5.3.20]
	at org.springframework.validation.beanvalidation.MethodValidationInterceptor.invoke(MethodValidationInterceptor.java:123) ~[spring-context-5.3.20.jar:5.3.20]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.20.jar:5.3.20]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763) ~[spring-aop-5.3.20.jar:5.3.20]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:708) ~[spring-aop-5.3.20.jar:5.3.20]
	at io.eventdriven.ecommerce.api.controllers.ShoppingCartsCommandController$$EnhancerBySpringCGLIB$$c5f470ce.removeProduct(<generated>) ~[main/:?]
	at jdk.internal.reflect.GeneratedMethodAccessor154.invoke(Unknown Source) ~[?:?]
	at jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[?:?]
	at java.lang.reflect.Method.invoke(Method.java:568) ~[?:?]
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205) ~[spring-web-5.3.20.jar:5.3.20]
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150) ~[spring-web-5.3.20.jar:5.3.20]
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117) ~[spring-webmvc-5.3.20.jar:5.3.20]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895) ~[spring-webmvc-5.3.20.jar:5.3.20]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808) ~[spring-webmvc-5.3.20.jar:5.3.20]
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-5.3.20.jar:5.3.20]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1067) ~[spring-webmvc-5.3.20.jar:5.3.20]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:963) ~[spring-webmvc-5.3.20.jar:5.3.20]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006) ~[spring-webmvc-5.3.20.jar:5.3.20]
	at org.springframework.web.servlet.FrameworkServlet.doDelete(FrameworkServlet.java:931) ~[spring-webmvc-5.3.20.jar:5.3.20]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:687) ~[tomcat-embed-core-9.0.63.jar:4.0.FR]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883) ~[spring-webmvc-5.3.20.jar:5.3.20]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:764) ~[tomcat-embed-core-9.0.63.jar:4.0.FR]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:227) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53) ~[tomcat-embed-websocket-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-5.3.20.jar:5.3.20]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.20.jar:5.3.20]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-5.3.20.jar:5.3.20]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.20.jar:5.3.20]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-5.3.20.jar:5.3.20]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.20.jar:5.3.20]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:197) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:541) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:135) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:360) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:399) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:890) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1743) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at java.lang.Thread.run(Thread.java:833) ~[?:?]
2022-10-26 13:45:30,284 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-2] Checkpoint event - ignoring
2022-10-26 13:45:30,284 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-2] Checkpoint event - ignoring
2022-10-26 13:45:30,421 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-0] Checkpoint event - ignoring
2022-10-26 13:45:30,464 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-2] Checkpoint event - ignoring
2022-10-26 14:14:12,074 INFO i.e.e.a.c.AddProductItemToShoppingCartTests [Test worker] Starting AddProductItemToShoppingCartTests using Java 17.0.4.1 on pop-os with PID 7846 (started by oskar in /home/oskar/Repos/EventSourcing.JVM/samples/event-sourcing-esdb-simple)
2022-10-26 14:14:12,085 DEBUG i.e.e.a.c.AddProductItemToShoppingCartTests [Test worker] Running with Spring Boot v2.7.0, Spring v5.3.20
2022-10-26 14:14:12,087 INFO i.e.e.a.c.AddProductItemToShoppingCartTests [Test worker] No active profile set, falling back to 1 default profile: "default"
2022-10-26 14:14:16,682 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [Test worker] Subscribing to all 'default'
2022-10-26 14:14:16,711 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-0] Checkpoint event - ignoring
2022-10-26 14:14:16,720 INFO i.e.e.a.c.AddProductItemToShoppingCartTests [Test worker] Started AddProductItemToShoppingCartTests in 4.976 seconds (JVM running for 6.312)
2022-10-26 14:14:49,658 INFO i.e.e.a.c.RemoveProductItemFromShoppingCartTests [Test worker] Starting RemoveProductItemFromShoppingCartTests using Java 17.0.4.1 on pop-os with PID 8195 (started by oskar in /home/oskar/Repos/EventSourcing.JVM/samples/event-sourcing-esdb-simple)
2022-10-26 14:14:49,668 DEBUG i.e.e.a.c.RemoveProductItemFromShoppingCartTests [Test worker] Running with Spring Boot v2.7.0, Spring v5.3.20
2022-10-26 14:14:49,669 INFO i.e.e.a.c.RemoveProductItemFromShoppingCartTests [Test worker] No active profile set, falling back to 1 default profile: "default"
2022-10-26 14:14:55,522 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [Test worker] Subscribing to all 'default'
2022-10-26 14:14:55,539 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-0] Checkpoint event - ignoring
2022-10-26 14:14:55,547 INFO i.e.e.a.c.RemoveProductItemFromShoppingCartTests [Test worker] Started RemoveProductItemFromShoppingCartTests in 6.186 seconds (JVM running for 7.74)
2022-10-26 14:15:56,269 INFO i.e.e.a.c.RemoveProductItemFromShoppingCartTests [Test worker] Starting RemoveProductItemFromShoppingCartTests using Java 17.0.4.1 on pop-os with PID 8562 (started by oskar in /home/oskar/Repos/EventSourcing.JVM/samples/event-sourcing-esdb-simple)
2022-10-26 14:15:56,278 DEBUG i.e.e.a.c.RemoveProductItemFromShoppingCartTests [Test worker] Running with Spring Boot v2.7.0, Spring v5.3.20
2022-10-26 14:15:56,279 INFO i.e.e.a.c.RemoveProductItemFromShoppingCartTests [Test worker] No active profile set, falling back to 1 default profile: "default"
2022-10-26 14:16:01,435 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [Test worker] Subscribing to all 'default'
2022-10-26 14:16:01,452 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-0] Checkpoint event - ignoring
2022-10-26 14:16:01,462 INFO i.e.e.a.c.RemoveProductItemFromShoppingCartTests [Test worker] Started RemoveProductItemFromShoppingCartTests in 5.551 seconds (JVM running for 7.23)
2022-10-26 14:16:27,898 INFO i.e.e.a.c.RemoveProductItemFromShoppingCartTests [Test worker] Starting RemoveProductItemFromShoppingCartTests using Java 17.0.4.1 on pop-os with PID 8914 (started by oskar in /home/oskar/Repos/EventSourcing.JVM/samples/event-sourcing-esdb-simple)
2022-10-26 14:16:27,905 DEBUG i.e.e.a.c.RemoveProductItemFromShoppingCartTests [Test worker] Running with Spring Boot v2.7.0, Spring v5.3.20
2022-10-26 14:16:27,906 INFO i.e.e.a.c.RemoveProductItemFromShoppingCartTests [Test worker] No active profile set, falling back to 1 default profile: "default"
2022-10-26 14:16:33,184 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [Test worker] Subscribing to all 'default'
2022-10-26 14:16:33,205 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-0] Checkpoint event - ignoring
2022-10-26 14:16:33,217 INFO i.e.e.a.c.RemoveProductItemFromShoppingCartTests [Test worker] Started RemoveProductItemFromShoppingCartTests in 5.589 seconds (JVM running for 6.967)
2022-10-26 14:17:05,079 INFO i.e.e.a.c.AddProductItemToShoppingCartTests [Test worker] Starting AddProductItemToShoppingCartTests using Java 17.0.4.1 on pop-os with PID 9273 (started by oskar in /home/oskar/Repos/EventSourcing.JVM/samples/event-sourcing-esdb-simple)
2022-10-26 14:17:05,090 DEBUG i.e.e.a.c.AddProductItemToShoppingCartTests [Test worker] Running with Spring Boot v2.7.0, Spring v5.3.20
2022-10-26 14:17:05,091 INFO i.e.e.a.c.AddProductItemToShoppingCartTests [Test worker] No active profile set, falling back to 1 default profile: "default"
2022-10-26 14:17:09,881 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [Test worker] Subscribing to all 'default'
2022-10-26 14:17:09,899 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-0] Checkpoint event - ignoring
2022-10-26 14:17:09,910 INFO i.e.e.a.c.AddProductItemToShoppingCartTests [Test worker] Started AddProductItemToShoppingCartTests in 5.135 seconds (JVM running for 6.312)
2022-10-26 14:17:10,579 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-1] Checkpoint event - ignoring
2022-10-26 14:17:10,646 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-0] Checkpoint event - ignoring
2022-10-26 14:17:10,649 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-0] Checkpoint event - ignoring
2022-10-26 14:17:10,685 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-0] Checkpoint event - ignoring
2022-10-26 14:17:10,715 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-1] Checkpoint event - ignoring
2022-10-26 14:17:10,746 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-1] Checkpoint event - ignoring
2022-10-26 14:17:10,794 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-1] Checkpoint event - ignoring
2022-10-26 14:17:10,836 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-1] Checkpoint event - ignoring
2022-10-26 14:17:10,895 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-0] Checkpoint event - ignoring
2022-10-26 14:17:10,940 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-0] Checkpoint event - ignoring
2022-10-26 14:17:10,941 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-0] Checkpoint event - ignoring
2022-10-26 14:17:10,973 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-0] Checkpoint event - ignoring
2022-10-26 14:17:10,973 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-0] Checkpoint event - ignoring
2022-10-26 14:17:10,974 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-0] Checkpoint event - ignoring
2022-10-26 14:17:11,004 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-1] Checkpoint event - ignoring
2022-10-26 14:17:11,035 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-1] Checkpoint event - ignoring
2022-10-26 14:17:11,070 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-0] Checkpoint event - ignoring
2022-10-26 14:17:11,071 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-0] Checkpoint event - ignoring
2022-10-26 14:17:11,106 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-0] Checkpoint event - ignoring
2022-10-26 14:17:11,197 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-1] Checkpoint event - ignoring
2022-10-26 14:17:11,250 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-1] Checkpoint event - ignoring
2022-10-26 14:17:11,277 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-1] Checkpoint event - ignoring
2022-10-26 14:17:11,307 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-1] Checkpoint event - ignoring
2022-10-26 14:17:11,339 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-0] Checkpoint event - ignoring
2022-10-26 14:17:11,383 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-0] Checkpoint event - ignoring
2022-10-26 14:17:11,385 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-0] Checkpoint event - ignoring
2022-10-26 14:17:11,420 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-0] Checkpoint event - ignoring
2022-10-26 14:17:11,505 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-0] Checkpoint event - ignoring
2022-10-26 14:17:11,560 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-2] Checkpoint event - ignoring
2022-10-26 14:17:11,594 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-2] Checkpoint event - ignoring
2022-10-26 14:17:11,676 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-2] Checkpoint event - ignoring
2022-10-26 14:17:11,712 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-2] Checkpoint event - ignoring
2022-10-26 14:17:11,713 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-2] Checkpoint event - ignoring
2022-10-26 14:17:11,750 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-2] Checkpoint event - ignoring
2022-10-26 14:17:11,780 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-2] Checkpoint event - ignoring
2022-10-26 14:17:11,780 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-2] Checkpoint event - ignoring
2022-10-26 14:17:11,858 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-2] Checkpoint event - ignoring
2022-10-26 14:17:11,887 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-2] Checkpoint event - ignoring
2022-10-26 14:17:11,917 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-2] Checkpoint event - ignoring
2022-10-26 14:17:11,946 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-2] Checkpoint event - ignoring
2022-10-26 14:17:11,993 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-2] Checkpoint event - ignoring
2022-10-26 14:17:12,025 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-2] Checkpoint event - ignoring
2022-10-26 14:17:12,058 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-2] Checkpoint event - ignoring
2022-10-26 14:17:12,092 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-2] Checkpoint event - ignoring
2022-10-26 14:17:12,093 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-2] Checkpoint event - ignoring
2022-10-26 14:17:12,165 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-0] Checkpoint event - ignoring
2022-10-26 14:17:12,206 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-0] Checkpoint event - ignoring
2022-10-26 14:17:12,279 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-0] Checkpoint event - ignoring
2022-10-26 14:17:12,280 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-0] Checkpoint event - ignoring
2022-10-26 14:17:12,315 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-2] Checkpoint event - ignoring
2022-10-26 14:17:12,350 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-2] Checkpoint event - ignoring
2022-10-26 14:17:12,350 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-2] Checkpoint event - ignoring
2022-10-26 14:17:12,515 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-2] Checkpoint event - ignoring
2022-10-26 14:17:12,515 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-2] Checkpoint event - ignoring
2022-10-26 14:17:12,614 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-2] Checkpoint event - ignoring
2022-10-26 14:17:12,614 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-2] Checkpoint event - ignoring
2022-10-26 14:17:12,740 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-0] Checkpoint event - ignoring
2022-10-26 14:17:12,741 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-0] Checkpoint event - ignoring
2022-10-26 14:17:12,796 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-0] Checkpoint event - ignoring
2022-10-26 14:17:12,796 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-0] Checkpoint event - ignoring
2022-10-26 14:17:12,961 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-0] Checkpoint event - ignoring
2022-10-26 14:17:12,995 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-0] Checkpoint event - ignoring
2022-10-26 14:17:12,995 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-0] Checkpoint event - ignoring
2022-10-26 14:17:13,184 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-0] Checkpoint event - ignoring
2022-10-26 14:17:13,185 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-0] Checkpoint event - ignoring
2022-10-26 14:17:13,355 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-2] Checkpoint event - ignoring
2022-10-26 14:17:13,356 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-2] Checkpoint event - ignoring
2022-10-26 14:17:13,525 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-2] Checkpoint event - ignoring
2022-10-26 14:17:13,525 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-2] Checkpoint event - ignoring
2022-10-26 14:17:13,725 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-2] Checkpoint event - ignoring
2022-10-26 14:17:13,726 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-2] Checkpoint event - ignoring
2022-10-26 14:17:13,884 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-2] Checkpoint event - ignoring
2022-10-26 14:17:13,884 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-2] Checkpoint event - ignoring
2022-10-26 14:17:14,041 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-0] Checkpoint event - ignoring
2022-10-26 14:17:14,041 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-0] Checkpoint event - ignoring
2022-10-26 14:17:14,223 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-0] Checkpoint event - ignoring
2022-10-26 14:17:14,223 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-0] Checkpoint event - ignoring
2022-10-26 14:17:14,389 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-0] Checkpoint event - ignoring
2022-10-26 14:17:14,390 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-0] Checkpoint event - ignoring
2022-10-26 14:17:14,571 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-0] Checkpoint event - ignoring
2022-10-26 14:17:14,572 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-0] Checkpoint event - ignoring
2022-10-26 14:17:14,697 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-0] Checkpoint event - ignoring
2023-01-03 12:23:54,475 INFO i.e.e.a.c.AddProductItemToShoppingCartTests [Test worker] Starting AddProductItemToShoppingCartTests using Java 17.0.4.1 with PID 926 (started by oskar in /home/oskar/Repos/EventSourcing.JVM/samples/event-sourcing-esdb-simple)
2023-01-03 12:23:54,484 DEBUG i.e.e.a.c.AddProductItemToShoppingCartTests [Test worker] Running with Spring Boot v3.0.1, Spring v6.0.3
2023-01-03 12:23:54,486 INFO i.e.e.a.c.AddProductItemToShoppingCartTests [Test worker] No active profile set, falling back to 1 default profile: "default"
2023-01-03 12:23:59,614 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [Test worker] Subscribing to all 'default'
2023-01-03 12:23:59,673 INFO i.e.e.a.c.AddProductItemToShoppingCartTests [Test worker] Started AddProductItemToShoppingCartTests in 5.561 seconds (process running for 7.219)
2023-01-03 12:24:05,790 ERROR i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-0] Subscription was dropped
io.grpc.StatusRuntimeException: UNAVAILABLE: Channel shutdownNow invoked
	at io.grpc.Status.asRuntimeException(Status.java:535) ~[grpc-api-1.45.0.jar:1.45.0]
	at io.grpc.stub.ClientCalls$StreamObserverToCallListenerAdapter.onClose(ClientCalls.java:478) ~[grpc-stub-1.45.0.jar:1.45.0]
	at io.grpc.internal.ClientCallImpl.closeObserver(ClientCallImpl.java:562) ~[grpc-core-1.45.0.jar:1.45.0]
	at io.grpc.internal.ClientCallImpl.access$300(ClientCallImpl.java:70) ~[grpc-core-1.45.0.jar:1.45.0]
	at io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInternal(ClientCallImpl.java:743) ~[grpc-core-1.45.0.jar:1.45.0]
	at io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInContext(ClientCallImpl.java:722) ~[grpc-core-1.45.0.jar:1.45.0]
	at io.grpc.internal.ContextRunnable.run(ContextRunnable.java:37) ~[grpc-core-1.45.0.jar:1.45.0]
	at io.grpc.internal.SerializingExecutor.run(SerializingExecutor.java:133) ~[grpc-core-1.45.0.jar:1.45.0]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136) ~[?:?]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635) ~[?:?]
	at java.lang.Thread.run(Thread.java:833) ~[?:?]
2023-01-03 12:24:38,488 INFO i.e.e.ECommerceApplication [main] Starting ECommerceApplication using Java 17.0.4.1 with PID 1318 (/home/oskar/Repos/EventSourcing.JVM/samples/event-sourcing-esdb-simple/build/classes/java/main started by oskar in /home/oskar/Repos/EventSourcing.JVM/samples/event-sourcing-esdb-simple)
2023-01-03 12:24:38,495 DEBUG i.e.e.ECommerceApplication [main] Running with Spring Boot v3.0.1, Spring v6.0.3
2023-01-03 12:24:38,496 INFO i.e.e.ECommerceApplication [main] No active profile set, falling back to 1 default profile: "default"
2023-01-03 12:24:42,596 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [main] Subscribing to all 'default'
2023-01-03 12:24:42,632 INFO i.e.e.ECommerceApplication [main] Started ECommerceApplication in 4.502 seconds (process running for 5.578)
2023-01-03 12:31:12,628 INFO i.e.e.a.c.OpenShoppingCartTests [Test worker] Starting OpenShoppingCartTests using Java 17.0.4.1 with PID 1711 (started by oskar in /home/oskar/Repos/EventSourcing.JVM/samples/event-sourcing-esdb-simple)
2023-01-03 12:31:12,639 DEBUG i.e.e.a.c.OpenShoppingCartTests [Test worker] Running with Spring Boot v3.0.1, Spring v6.0.3
2023-01-03 12:31:12,641 INFO i.e.e.a.c.OpenShoppingCartTests [Test worker] No active profile set, falling back to 1 default profile: "default"
2023-01-03 12:31:17,438 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [Test worker] Subscribing to all 'default'
2023-01-03 12:31:17,480 INFO i.e.e.a.c.OpenShoppingCartTests [Test worker] Started OpenShoppingCartTests in 5.178 seconds (process running for 6.582)
2023-01-03 12:31:49,205 ERROR i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-0] Subscription was dropped
io.grpc.StatusRuntimeException: INTERNAL: Connection closed after GOAWAY. HTTP/2 error code: INTERNAL_ERROR
	at io.grpc.Status.asRuntimeException(Status.java:535) ~[grpc-api-1.45.0.jar:1.45.0]
	at io.grpc.stub.ClientCalls$StreamObserverToCallListenerAdapter.onClose(ClientCalls.java:478) ~[grpc-stub-1.45.0.jar:1.45.0]
	at io.grpc.internal.ClientCallImpl.closeObserver(ClientCallImpl.java:562) ~[grpc-core-1.45.0.jar:1.45.0]
	at io.grpc.internal.ClientCallImpl.access$300(ClientCallImpl.java:70) ~[grpc-core-1.45.0.jar:1.45.0]
	at io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInternal(ClientCallImpl.java:743) ~[grpc-core-1.45.0.jar:1.45.0]
	at io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInContext(ClientCallImpl.java:722) ~[grpc-core-1.45.0.jar:1.45.0]
	at io.grpc.internal.ContextRunnable.run(ContextRunnable.java:37) ~[grpc-core-1.45.0.jar:1.45.0]
	at io.grpc.internal.SerializingExecutor.run(SerializingExecutor.java:133) ~[grpc-core-1.45.0.jar:1.45.0]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136) ~[?:?]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635) ~[?:?]
	at java.lang.Thread.run(Thread.java:833) ~[?:?]
2023-01-03 12:31:49,214 ERROR i.g.i.SerializingExecutor [grpc-default-executor-0] Exception while executing runnable io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed@4882a015
java.lang.RuntimeException: io.grpc.StatusRuntimeException: INTERNAL: Connection closed after GOAWAY. HTTP/2 error code: INTERNAL_ERROR
	at io.eventdriven.ecommerce.core.subscriptions.EventStoreDBSubscriptionToAll$1.onError(EventStoreDBSubscriptionToAll.java:40) ~[main/:?]
	at com.eventstore.dbclient.AbstractRegularSubscription$1.onError(AbstractRegularSubscription.java:120) ~[db-client-java-4.0.0.jar:?]
	at io.grpc.stub.ClientCalls$StreamObserverToCallListenerAdapter.onClose(ClientCalls.java:478) ~[grpc-stub-1.45.0.jar:1.45.0]
	at io.grpc.internal.ClientCallImpl.closeObserver(ClientCallImpl.java:562) ~[grpc-core-1.45.0.jar:1.45.0]
	at io.grpc.internal.ClientCallImpl.access$300(ClientCallImpl.java:70) ~[grpc-core-1.45.0.jar:1.45.0]
	at io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInternal(ClientCallImpl.java:743) ~[grpc-core-1.45.0.jar:1.45.0]
	at io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInContext(ClientCallImpl.java:722) ~[grpc-core-1.45.0.jar:1.45.0]
	at io.grpc.internal.ContextRunnable.run(ContextRunnable.java:37) ~[grpc-core-1.45.0.jar:1.45.0]
	at io.grpc.internal.SerializingExecutor.run(SerializingExecutor.java:133) ~[grpc-core-1.45.0.jar:1.45.0]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136) ~[?:?]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635) ~[?:?]
	at java.lang.Thread.run(Thread.java:833) ~[?:?]
Caused by: io.grpc.StatusRuntimeException: INTERNAL: Connection closed after GOAWAY. HTTP/2 error code: INTERNAL_ERROR
	at io.grpc.Status.asRuntimeException(Status.java:535) ~[grpc-api-1.45.0.jar:1.45.0]
	... 10 more
2023-01-03 12:34:00,963 INFO i.e.e.a.c.OpenShoppingCartTests [Test worker] Starting OpenShoppingCartTests using Java 17.0.4.1 with PID 2167 (started by oskar in /home/oskar/Repos/EventSourcing.JVM/samples/event-sourcing-esdb-simple)
2023-01-03 12:34:00,972 DEBUG i.e.e.a.c.OpenShoppingCartTests [Test worker] Running with Spring Boot v3.0.1, Spring v6.0.3
2023-01-03 12:34:00,974 INFO i.e.e.a.c.OpenShoppingCartTests [Test worker] No active profile set, falling back to 1 default profile: "default"
2023-01-03 12:34:07,034 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [Test worker] Subscribing to all 'default'
2023-01-03 12:34:07,067 INFO i.e.e.a.c.OpenShoppingCartTests [Test worker] Started OpenShoppingCartTests in 6.425 seconds (process running for 7.902)
2023-01-03 12:34:25,976 ERROR i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-0] Subscription was dropped
io.grpc.StatusRuntimeException: UNAVAILABLE: Channel shutdownNow invoked
	at io.grpc.Status.asRuntimeException(Status.java:535) ~[grpc-api-1.45.0.jar:1.45.0]
	at io.grpc.stub.ClientCalls$StreamObserverToCallListenerAdapter.onClose(ClientCalls.java:478) ~[grpc-stub-1.45.0.jar:1.45.0]
	at io.grpc.internal.ClientCallImpl.closeObserver(ClientCallImpl.java:562) ~[grpc-core-1.45.0.jar:1.45.0]
	at io.grpc.internal.ClientCallImpl.access$300(ClientCallImpl.java:70) ~[grpc-core-1.45.0.jar:1.45.0]
	at io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInternal(ClientCallImpl.java:743) ~[grpc-core-1.45.0.jar:1.45.0]
	at io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInContext(ClientCallImpl.java:722) ~[grpc-core-1.45.0.jar:1.45.0]
	at io.grpc.internal.ContextRunnable.run(ContextRunnable.java:37) ~[grpc-core-1.45.0.jar:1.45.0]
	at io.grpc.internal.SerializingExecutor.run(SerializingExecutor.java:133) ~[grpc-core-1.45.0.jar:1.45.0]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136) ~[?:?]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635) ~[?:?]
	at java.lang.Thread.run(Thread.java:833) ~[?:?]
2023-01-03 12:43:20,610 INFO i.e.e.a.c.OpenShoppingCartTests [Test worker] Starting OpenShoppingCartTests using Java 17.0.4.1 with PID 2644 (started by oskar in /home/oskar/Repos/EventSourcing.JVM/samples/event-sourcing-esdb-simple)
2023-01-03 12:43:20,620 DEBUG i.e.e.a.c.OpenShoppingCartTests [Test worker] Running with Spring Boot v3.0.1, Spring v6.0.3
2023-01-03 12:43:20,622 INFO i.e.e.a.c.OpenShoppingCartTests [Test worker] No active profile set, falling back to 1 default profile: "default"
2023-01-03 12:43:25,733 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [Test worker] Subscribing to all 'default'
2023-01-03 12:43:25,769 INFO i.e.e.a.c.OpenShoppingCartTests [Test worker] Started OpenShoppingCartTests in 5.519 seconds (process running for 7.091)
2023-01-03 12:43:44,576 ERROR i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-0] Subscription was dropped
io.grpc.StatusRuntimeException: UNAVAILABLE: Channel shutdownNow invoked
	at io.grpc.Status.asRuntimeException(Status.java:535) ~[grpc-api-1.45.0.jar:1.45.0]
	at io.grpc.stub.ClientCalls$StreamObserverToCallListenerAdapter.onClose(ClientCalls.java:478) ~[grpc-stub-1.45.0.jar:1.45.0]
	at io.grpc.internal.ClientCallImpl.closeObserver(ClientCallImpl.java:562) ~[grpc-core-1.45.0.jar:1.45.0]
	at io.grpc.internal.ClientCallImpl.access$300(ClientCallImpl.java:70) ~[grpc-core-1.45.0.jar:1.45.0]
	at io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInternal(ClientCallImpl.java:743) ~[grpc-core-1.45.0.jar:1.45.0]
	at io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInContext(ClientCallImpl.java:722) ~[grpc-core-1.45.0.jar:1.45.0]
	at io.grpc.internal.ContextRunnable.run(ContextRunnable.java:37) ~[grpc-core-1.45.0.jar:1.45.0]
	at io.grpc.internal.SerializingExecutor.run(SerializingExecutor.java:133) ~[grpc-core-1.45.0.jar:1.45.0]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136) ~[?:?]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635) ~[?:?]
	at java.lang.Thread.run(Thread.java:833) ~[?:?]
2023-01-03 12:45:48,918 INFO i.e.e.a.c.OpenShoppingCartTests [Test worker] Starting OpenShoppingCartTests using Java 17.0.4.1 with PID 3083 (started by oskar in /home/oskar/Repos/EventSourcing.JVM/samples/event-sourcing-esdb-simple)
2023-01-03 12:45:48,927 DEBUG i.e.e.a.c.OpenShoppingCartTests [Test worker] Running with Spring Boot v3.0.1, Spring v6.0.3
2023-01-03 12:45:48,929 INFO i.e.e.a.c.OpenShoppingCartTests [Test worker] No active profile set, falling back to 1 default profile: "default"
2023-01-03 12:45:53,449 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [Test worker] Subscribing to all 'default'
2023-01-03 12:45:53,482 INFO i.e.e.a.c.OpenShoppingCartTests [Test worker] Started OpenShoppingCartTests in 4.875 seconds (process running for 6.098)
2023-01-03 12:45:58,876 ERROR i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-0] Subscription was dropped
io.grpc.StatusRuntimeException: UNAVAILABLE: Channel shutdownNow invoked
	at io.grpc.Status.asRuntimeException(Status.java:535) ~[grpc-api-1.45.0.jar:1.45.0]
	at io.grpc.stub.ClientCalls$StreamObserverToCallListenerAdapter.onClose(ClientCalls.java:478) ~[grpc-stub-1.45.0.jar:1.45.0]
	at io.grpc.internal.ClientCallImpl.closeObserver(ClientCallImpl.java:562) ~[grpc-core-1.45.0.jar:1.45.0]
	at io.grpc.internal.ClientCallImpl.access$300(ClientCallImpl.java:70) ~[grpc-core-1.45.0.jar:1.45.0]
	at io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInternal(ClientCallImpl.java:743) ~[grpc-core-1.45.0.jar:1.45.0]
	at io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInContext(ClientCallImpl.java:722) ~[grpc-core-1.45.0.jar:1.45.0]
	at io.grpc.internal.ContextRunnable.run(ContextRunnable.java:37) ~[grpc-core-1.45.0.jar:1.45.0]
	at io.grpc.internal.SerializingExecutor.run(SerializingExecutor.java:133) ~[grpc-core-1.45.0.jar:1.45.0]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136) ~[?:?]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635) ~[?:?]
	at java.lang.Thread.run(Thread.java:833) ~[?:?]
2023-01-03 12:46:16,365 INFO i.e.e.a.c.OpenShoppingCartTests [Test worker] Starting OpenShoppingCartTests using Java 17.0.4.1 with PID 3479 (started by oskar in /home/oskar/Repos/EventSourcing.JVM/samples/event-sourcing-esdb-simple)
2023-01-03 12:46:16,374 DEBUG i.e.e.a.c.OpenShoppingCartTests [Test worker] Running with Spring Boot v3.0.1, Spring v6.0.3
2023-01-03 12:46:16,376 INFO i.e.e.a.c.OpenShoppingCartTests [Test worker] No active profile set, falling back to 1 default profile: "default"
2023-01-03 12:46:21,441 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [Test worker] Subscribing to all 'default'
2023-01-03 12:46:21,475 INFO i.e.e.a.c.OpenShoppingCartTests [Test worker] Started OpenShoppingCartTests in 5.452 seconds (process running for 6.799)
2023-01-03 12:47:44,740 INFO i.e.e.a.c.OpenShoppingCartTests [Test worker] Starting OpenShoppingCartTests using Java 17.0.4.1 with PID 3881 (started by oskar in /home/oskar/Repos/EventSourcing.JVM/samples/event-sourcing-esdb-simple)
2023-01-03 12:47:44,749 DEBUG i.e.e.a.c.OpenShoppingCartTests [Test worker] Running with Spring Boot v3.0.1, Spring v6.0.3
2023-01-03 12:47:44,750 INFO i.e.e.a.c.OpenShoppingCartTests [Test worker] No active profile set, falling back to 1 default profile: "default"
2023-01-03 12:47:49,955 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [Test worker] Subscribing to all 'default'
2023-01-03 12:47:49,992 INFO i.e.e.a.c.OpenShoppingCartTests [Test worker] Started OpenShoppingCartTests in 5.594 seconds (process running for 7.096)
2023-01-03 12:48:59,041 INFO i.e.e.a.c.OpenShoppingCartTests [Test worker] Starting OpenShoppingCartTests using Java 17.0.4.1 with PID 4293 (started by oskar in /home/oskar/Repos/EventSourcing.JVM/samples/event-sourcing-esdb-simple)
2023-01-03 12:48:59,050 DEBUG i.e.e.a.c.OpenShoppingCartTests [Test worker] Running with Spring Boot v3.0.1, Spring v6.0.3
2023-01-03 12:48:59,051 INFO i.e.e.a.c.OpenShoppingCartTests [Test worker] No active profile set, falling back to 1 default profile: "default"
2023-01-03 12:49:04,072 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [Test worker] Subscribing to all 'default'
2023-01-03 12:49:04,110 INFO i.e.e.a.c.OpenShoppingCartTests [Test worker] Started OpenShoppingCartTests in 5.417 seconds (process running for 6.838)
2023-01-03 12:49:46,647 INFO i.e.e.a.c.OpenShoppingCartTests [Test worker] Starting OpenShoppingCartTests using Java 17.0.4.1 with PID 4693 (started by oskar in /home/oskar/Repos/EventSourcing.JVM/samples/event-sourcing-esdb-simple)
2023-01-03 12:49:46,656 DEBUG i.e.e.a.c.OpenShoppingCartTests [Test worker] Running with Spring Boot v3.0.1, Spring v6.0.3
2023-01-03 12:49:46,658 INFO i.e.e.a.c.OpenShoppingCartTests [Test worker] No active profile set, falling back to 1 default profile: "default"
2023-01-03 12:49:51,744 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [Test worker] Subscribing to all 'default'
2023-01-03 12:49:51,778 INFO i.e.e.a.c.OpenShoppingCartTests [Test worker] Started OpenShoppingCartTests in 5.464 seconds (process running for 6.886)
2023-01-03 12:51:23,798 INFO i.e.e.a.c.OpenShoppingCartTests [Test worker] Starting OpenShoppingCartTests using Java 17.0.4.1 with PID 5101 (started by oskar in /home/oskar/Repos/EventSourcing.JVM/samples/event-sourcing-esdb-simple)
2023-01-03 12:51:23,812 DEBUG i.e.e.a.c.OpenShoppingCartTests [Test worker] Running with Spring Boot v3.0.1, Spring v6.0.3
2023-01-03 12:51:23,814 INFO i.e.e.a.c.OpenShoppingCartTests [Test worker] No active profile set, falling back to 1 default profile: "default"
2023-01-03 12:51:30,152 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [Test worker] Subscribing to all 'default'
2023-01-03 12:51:30,185 INFO i.e.e.a.c.OpenShoppingCartTests [Test worker] Started OpenShoppingCartTests in 6.844 seconds (process running for 8.791)
2023-01-03 12:51:58,891 ERROR i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-1] Error while handling event
java.lang.RuntimeException: java.util.concurrent.ExecutionException: com.eventstore.dbclient.ConnectionShutdownException: The connection is closed
	at io.eventdriven.ecommerce.core.subscriptions.EventStoreDBSubscriptionCheckpointRepository.store(EventStoreDBSubscriptionCheckpointRepository.java:64) ~[main/:?]
	at io.eventdriven.ecommerce.core.subscriptions.EventStoreDBSubscriptionToAll.handleEvent(EventStoreDBSubscriptionToAll.java:127) ~[main/:?]
	at io.eventdriven.ecommerce.core.subscriptions.EventStoreDBSubscriptionToAll$1.onEvent(EventStoreDBSubscriptionToAll.java:29) ~[main/:?]
	at com.eventstore.dbclient.AbstractRegularSubscription$1.onNext(AbstractRegularSubscription.java:95) ~[db-client-java-4.0.0.jar:?]
	at com.eventstore.dbclient.AbstractRegularSubscription$1.onNext(AbstractRegularSubscription.java:50) ~[db-client-java-4.0.0.jar:?]
	at io.grpc.stub.ClientCalls$StreamObserverToCallListenerAdapter.onMessage(ClientCalls.java:465) ~[grpc-stub-1.45.0.jar:1.45.0]
	at io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1MessagesAvailable.runInternal(ClientCallImpl.java:661) ~[grpc-core-1.45.0.jar:1.45.0]
	at io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1MessagesAvailable.runInContext(ClientCallImpl.java:646) ~[grpc-core-1.45.0.jar:1.45.0]
	at io.grpc.internal.ContextRunnable.run(ContextRunnable.java:37) ~[grpc-core-1.45.0.jar:1.45.0]
	at io.grpc.internal.SerializingExecutor.run(SerializingExecutor.java:133) ~[grpc-core-1.45.0.jar:1.45.0]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136) ~[?:?]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635) ~[?:?]
	at java.lang.Thread.run(Thread.java:833) ~[?:?]
Caused by: java.util.concurrent.ExecutionException: com.eventstore.dbclient.ConnectionShutdownException: The connection is closed
	at java.util.concurrent.CompletableFuture.reportGet(CompletableFuture.java:396) ~[?:?]
	at java.util.concurrent.CompletableFuture.get(CompletableFuture.java:2073) ~[?:?]
	at io.eventdriven.ecommerce.core.subscriptions.EventStoreDBSubscriptionCheckpointRepository.store(EventStoreDBSubscriptionCheckpointRepository.java:61) ~[main/:?]
	... 12 more
Caused by: com.eventstore.dbclient.ConnectionShutdownException: The connection is closed
	at com.eventstore.dbclient.GrpcClient.handleMsg(GrpcClient.java:230) ~[db-client-java-4.0.0.jar:?]
	at com.eventstore.dbclient.GrpcClient.messageLoop(GrpcClient.java:296) ~[db-client-java-4.0.0.jar:?]
	at java.util.concurrent.CompletableFuture$AsyncRun.run(CompletableFuture.java:1804) ~[?:?]
	... 3 more
2023-01-03 12:54:01,192 INFO i.e.e.a.c.AddProductItemToShoppingCartTests [Test worker] Starting AddProductItemToShoppingCartTests using Java 17.0.4.1 with PID 5542 (started by oskar in /home/oskar/Repos/EventSourcing.JVM/samples/event-sourcing-esdb-simple)
2023-01-03 12:54:01,203 DEBUG i.e.e.a.c.AddProductItemToShoppingCartTests [Test worker] Running with Spring Boot v3.0.1, Spring v6.0.3
2023-01-03 12:54:01,205 INFO i.e.e.a.c.AddProductItemToShoppingCartTests [Test worker] No active profile set, falling back to 1 default profile: "default"
2023-01-03 12:54:06,804 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [Test worker] Subscribing to all 'default'
2023-01-03 12:54:06,833 INFO i.e.e.a.c.AddProductItemToShoppingCartTests [Test worker] Started AddProductItemToShoppingCartTests in 6.041 seconds (process running for 7.641)
2023-01-03 12:54:07,150 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-2] Checkpoint event - ignoring
2023-01-03 12:54:08,035 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-2] Checkpoint event - ignoring
2023-01-03 12:54:13,261 ERROR i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-2] Subscription was dropped
io.grpc.StatusRuntimeException: UNAVAILABLE: Channel shutdownNow invoked
	at io.grpc.Status.asRuntimeException(Status.java:535) ~[grpc-api-1.45.0.jar:1.45.0]
	at io.grpc.stub.ClientCalls$StreamObserverToCallListenerAdapter.onClose(ClientCalls.java:478) ~[grpc-stub-1.45.0.jar:1.45.0]
	at io.grpc.internal.ClientCallImpl.closeObserver(ClientCallImpl.java:562) ~[grpc-core-1.45.0.jar:1.45.0]
	at io.grpc.internal.ClientCallImpl.access$300(ClientCallImpl.java:70) ~[grpc-core-1.45.0.jar:1.45.0]
	at io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInternal(ClientCallImpl.java:743) ~[grpc-core-1.45.0.jar:1.45.0]
	at io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInContext(ClientCallImpl.java:722) ~[grpc-core-1.45.0.jar:1.45.0]
	at io.grpc.internal.ContextRunnable.run(ContextRunnable.java:37) ~[grpc-core-1.45.0.jar:1.45.0]
	at io.grpc.internal.SerializingExecutor.run(SerializingExecutor.java:133) ~[grpc-core-1.45.0.jar:1.45.0]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136) ~[?:?]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635) ~[?:?]
	at java.lang.Thread.run(Thread.java:833) ~[?:?]
2023-01-03 12:55:01,914 INFO i.e.e.a.c.AddProductItemToShoppingCartTests [Test worker] Starting AddProductItemToShoppingCartTests using Java 17.0.4.1 with PID 5953 (started by oskar in /home/oskar/Repos/EventSourcing.JVM/samples/event-sourcing-esdb-simple)
2023-01-03 12:55:01,925 DEBUG i.e.e.a.c.AddProductItemToShoppingCartTests [Test worker] Running with Spring Boot v3.0.1, Spring v6.0.3
2023-01-03 12:55:01,926 INFO i.e.e.a.c.AddProductItemToShoppingCartTests [Test worker] No active profile set, falling back to 1 default profile: "default"
2023-01-03 12:55:07,369 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [Test worker] Subscribing to all 'default'
2023-01-03 12:55:07,394 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-0] Checkpoint event - ignoring
2023-01-03 12:55:07,416 INFO i.e.e.a.c.AddProductItemToShoppingCartTests [Test worker] Started AddProductItemToShoppingCartTests in 5.822 seconds (process running for 7.306)
2023-01-03 12:55:13,133 ERROR i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-0] Subscription was dropped
io.grpc.StatusRuntimeException: UNAVAILABLE: Channel shutdownNow invoked
	at io.grpc.Status.asRuntimeException(Status.java:535) ~[grpc-api-1.45.0.jar:1.45.0]
	at io.grpc.stub.ClientCalls$StreamObserverToCallListenerAdapter.onClose(ClientCalls.java:478) ~[grpc-stub-1.45.0.jar:1.45.0]
	at io.grpc.internal.ClientCallImpl.closeObserver(ClientCallImpl.java:562) ~[grpc-core-1.45.0.jar:1.45.0]
	at io.grpc.internal.ClientCallImpl.access$300(ClientCallImpl.java:70) ~[grpc-core-1.45.0.jar:1.45.0]
	at io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInternal(ClientCallImpl.java:743) ~[grpc-core-1.45.0.jar:1.45.0]
	at io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInContext(ClientCallImpl.java:722) ~[grpc-core-1.45.0.jar:1.45.0]
	at io.grpc.internal.ContextRunnable.run(ContextRunnable.java:37) ~[grpc-core-1.45.0.jar:1.45.0]
	at io.grpc.internal.SerializingExecutor.run(SerializingExecutor.java:133) ~[grpc-core-1.45.0.jar:1.45.0]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136) ~[?:?]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635) ~[?:?]
	at java.lang.Thread.run(Thread.java:833) ~[?:?]
2023-01-03 12:55:46,720 INFO i.e.e.a.c.AddProductItemToShoppingCartTests [Test worker] Starting AddProductItemToShoppingCartTests using Java 17.0.4.1 with PID 6329 (started by oskar in /home/oskar/Repos/EventSourcing.JVM/samples/event-sourcing-esdb-simple)
2023-01-03 12:55:46,731 DEBUG i.e.e.a.c.AddProductItemToShoppingCartTests [Test worker] Running with Spring Boot v3.0.1, Spring v6.0.3
2023-01-03 12:55:46,733 INFO i.e.e.a.c.AddProductItemToShoppingCartTests [Test worker] No active profile set, falling back to 1 default profile: "default"
2023-01-03 12:55:52,822 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [Test worker] Subscribing to all 'default'
2023-01-03 12:55:52,843 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-0] Checkpoint event - ignoring
2023-01-03 12:55:52,856 INFO i.e.e.a.c.AddProductItemToShoppingCartTests [Test worker] Started AddProductItemToShoppingCartTests in 6.546 seconds (process running for 8.322)
2023-01-03 12:57:15,069 INFO i.e.e.a.c.AddProductItemToShoppingCartTests [Test worker] Starting AddProductItemToShoppingCartTests using Java 17.0.4.1 with PID 6729 (started by oskar in /home/oskar/Repos/EventSourcing.JVM/samples/event-sourcing-esdb-simple)
2023-01-03 12:57:15,075 DEBUG i.e.e.a.c.AddProductItemToShoppingCartTests [Test worker] Running with Spring Boot v3.0.1, Spring v6.0.3
2023-01-03 12:57:15,077 INFO i.e.e.a.c.AddProductItemToShoppingCartTests [Test worker] No active profile set, falling back to 1 default profile: "default"
2023-01-03 12:57:21,040 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [Test worker] Subscribing to all 'default'
2023-01-03 12:57:21,064 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-0] Checkpoint event - ignoring
2023-01-03 12:57:21,078 INFO i.e.e.a.c.AddProductItemToShoppingCartTests [Test worker] Started AddProductItemToShoppingCartTests in 6.318 seconds (process running for 7.792)
2023-01-03 12:57:22,006 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-1] Checkpoint event - ignoring
2023-01-03 12:57:22,053 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-1] Checkpoint event - ignoring
2023-01-03 12:57:22,057 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-0] Checkpoint event - ignoring
2023-01-03 12:57:22,098 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-0] Checkpoint event - ignoring
2023-01-03 12:57:22,139 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-0] Checkpoint event - ignoring
2023-01-03 12:57:22,180 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-0] Checkpoint event - ignoring
2023-01-03 12:57:22,222 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-0] Checkpoint event - ignoring
2023-01-03 12:57:22,259 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-0] Checkpoint event - ignoring
2023-01-03 12:57:22,299 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-1] Checkpoint event - ignoring
2023-01-03 12:57:22,344 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-1] Checkpoint event - ignoring
2023-01-03 12:57:22,379 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-1] Checkpoint event - ignoring
2023-01-03 12:57:22,418 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-1] Checkpoint event - ignoring
2023-01-03 12:57:22,472 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-1] Checkpoint event - ignoring
2023-01-03 12:57:22,515 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-2] Checkpoint event - ignoring
2023-01-03 12:57:22,553 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-1] Checkpoint event - ignoring
2023-01-03 12:57:22,593 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-2] Checkpoint event - ignoring
2023-01-03 12:57:22,594 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-2] Checkpoint event - ignoring
2023-01-03 12:57:22,633 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-2] Checkpoint event - ignoring
2023-01-03 12:57:22,668 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-2] Checkpoint event - ignoring
2023-01-03 12:57:22,697 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-2] Checkpoint event - ignoring
2023-01-03 12:57:22,735 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-1] Checkpoint event - ignoring
2023-01-03 12:57:22,768 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-2] Checkpoint event - ignoring
2023-01-03 12:57:22,810 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-1] Checkpoint event - ignoring
2023-01-03 12:57:22,811 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-1] Checkpoint event - ignoring
2023-01-03 12:57:22,847 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-2] Checkpoint event - ignoring
2023-01-03 12:57:22,850 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-2] Checkpoint event - ignoring
2023-01-03 12:57:22,918 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-2] Checkpoint event - ignoring
2023-01-03 12:57:22,961 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-2] Checkpoint event - ignoring
2023-01-03 12:57:23,034 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-2] Checkpoint event - ignoring
2023-01-03 12:57:23,078 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-1] Checkpoint event - ignoring
2023-01-03 12:57:23,122 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-1] Checkpoint event - ignoring
2023-01-03 12:57:23,160 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-2] Checkpoint event - ignoring
2023-01-03 12:57:23,203 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-1] Checkpoint event - ignoring
2023-01-03 12:57:23,232 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-2] Checkpoint event - ignoring
2023-01-03 12:57:23,272 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-2] Checkpoint event - ignoring
2023-01-03 12:57:23,311 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-2] Checkpoint event - ignoring
2023-01-03 12:57:23,354 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-2] Checkpoint event - ignoring
2023-01-03 12:57:23,386 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-2] Checkpoint event - ignoring
2023-01-03 12:57:23,387 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-2] Checkpoint event - ignoring
2023-01-03 12:57:28,426 ERROR i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-2] Subscription was dropped
io.grpc.StatusRuntimeException: UNAVAILABLE: Channel shutdownNow invoked
	at io.grpc.Status.asRuntimeException(Status.java:535) ~[grpc-api-1.45.0.jar:1.45.0]
	at io.grpc.stub.ClientCalls$StreamObserverToCallListenerAdapter.onClose(ClientCalls.java:478) ~[grpc-stub-1.45.0.jar:1.45.0]
	at io.grpc.internal.ClientCallImpl.closeObserver(ClientCallImpl.java:562) ~[grpc-core-1.45.0.jar:1.45.0]
	at io.grpc.internal.ClientCallImpl.access$300(ClientCallImpl.java:70) ~[grpc-core-1.45.0.jar:1.45.0]
	at io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInternal(ClientCallImpl.java:743) ~[grpc-core-1.45.0.jar:1.45.0]
	at io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInContext(ClientCallImpl.java:722) ~[grpc-core-1.45.0.jar:1.45.0]
	at io.grpc.internal.ContextRunnable.run(ContextRunnable.java:37) ~[grpc-core-1.45.0.jar:1.45.0]
	at io.grpc.internal.SerializingExecutor.run(SerializingExecutor.java:133) ~[grpc-core-1.45.0.jar:1.45.0]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136) ~[?:?]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635) ~[?:?]
	at java.lang.Thread.run(Thread.java:833) ~[?:?]
2023-01-03 12:57:52,327 INFO i.e.e.a.c.AddProductItemToShoppingCartTests [Test worker] Starting AddProductItemToShoppingCartTests using Java 17.0.4.1 with PID 7120 (started by oskar in /home/oskar/Repos/EventSourcing.JVM/samples/event-sourcing-esdb-simple)
2023-01-03 12:57:52,336 DEBUG i.e.e.a.c.AddProductItemToShoppingCartTests [Test worker] Running with Spring Boot v3.0.1, Spring v6.0.3
2023-01-03 12:57:52,338 INFO i.e.e.a.c.AddProductItemToShoppingCartTests [Test worker] No active profile set, falling back to 1 default profile: "default"
2023-01-03 12:57:58,077 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [Test worker] Subscribing to all 'default'
2023-01-03 12:57:58,099 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-0] Checkpoint event - ignoring
2023-01-03 12:57:58,101 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-0] Checkpoint event - ignoring
2023-01-03 12:57:58,108 INFO i.e.e.a.c.AddProductItemToShoppingCartTests [Test worker] Started AddProductItemToShoppingCartTests in 6.133 seconds (process running for 7.763)
2023-01-03 12:59:12,124 INFO i.e.e.a.c.AddProductItemToShoppingCartTests [Test worker] Starting AddProductItemToShoppingCartTests using Java 17.0.4.1 with PID 7522 (started by oskar in /home/oskar/Repos/EventSourcing.JVM/samples/event-sourcing-esdb-simple)
2023-01-03 12:59:12,137 DEBUG i.e.e.a.c.AddProductItemToShoppingCartTests [Test worker] Running with Spring Boot v3.0.1, Spring v6.0.3
2023-01-03 12:59:12,139 INFO i.e.e.a.c.AddProductItemToShoppingCartTests [Test worker] No active profile set, falling back to 1 default profile: "default"
2023-01-03 12:59:17,466 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [Test worker] Subscribing to all 'default'
2023-01-03 12:59:17,501 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-0] Checkpoint event - ignoring
2023-01-03 12:59:17,503 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-0] Checkpoint event - ignoring
2023-01-03 12:59:17,512 INFO i.e.e.a.c.AddProductItemToShoppingCartTests [Test worker] Started AddProductItemToShoppingCartTests in 5.774 seconds (process running for 7.318)
2023-01-03 12:59:17,697 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-0] Checkpoint event - ignoring
2023-01-03 12:59:17,906 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-0] Checkpoint event - ignoring
2023-01-03 12:59:17,976 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-1] Checkpoint event - ignoring
2023-01-03 12:59:18,008 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-1] Checkpoint event - ignoring
2023-01-03 12:59:18,054 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-1] Checkpoint event - ignoring
2023-01-03 12:59:18,102 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-1] Checkpoint event - ignoring
2023-01-03 12:59:18,138 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-0] Checkpoint event - ignoring
2023-01-03 12:59:18,207 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-1] Checkpoint event - ignoring
2023-01-03 12:59:18,237 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-1] Checkpoint event - ignoring
2023-01-03 12:59:18,278 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-1] Checkpoint event - ignoring
2023-01-03 12:59:18,321 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-1] Checkpoint event - ignoring
2023-01-03 12:59:18,361 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-1] Checkpoint event - ignoring
2023-01-03 12:59:18,414 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-1] Checkpoint event - ignoring
2023-01-03 12:59:18,457 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-2] Checkpoint event - ignoring
2023-01-03 12:59:18,497 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-2] Checkpoint event - ignoring
2023-01-03 12:59:18,594 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-1] Checkpoint event - ignoring
2023-01-03 12:59:18,638 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-2] Checkpoint event - ignoring
2023-01-03 12:59:18,670 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-2] Checkpoint event - ignoring
2023-01-03 12:59:18,710 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-2] Checkpoint event - ignoring
2023-01-03 12:59:18,743 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-1] Checkpoint event - ignoring
2023-01-03 12:59:18,790 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-2] Checkpoint event - ignoring
2023-01-03 12:59:18,792 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-2] Checkpoint event - ignoring
2023-01-03 12:59:18,834 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-2] Checkpoint event - ignoring
2023-01-03 12:59:18,919 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-2] Checkpoint event - ignoring
2023-01-03 12:59:18,951 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-2] Checkpoint event - ignoring
2023-01-03 12:59:18,952 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-2] Checkpoint event - ignoring
2023-01-03 12:59:18,990 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-2] Checkpoint event - ignoring
2023-01-03 12:59:19,093 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-1] Checkpoint event - ignoring
2023-01-03 12:59:19,139 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-2] Checkpoint event - ignoring
2023-01-03 12:59:19,186 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-1] Checkpoint event - ignoring
2023-01-03 12:59:19,231 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-1] Checkpoint event - ignoring
2023-01-03 12:59:19,310 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-1] Checkpoint event - ignoring
2023-01-03 12:59:19,357 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-1] Checkpoint event - ignoring
2023-01-03 12:59:19,389 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-1] Checkpoint event - ignoring
2023-01-03 12:59:19,425 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-1] Checkpoint event - ignoring
2023-01-03 12:59:19,457 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-1] Checkpoint event - ignoring
2023-01-03 12:59:19,491 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-1] Checkpoint event - ignoring
2023-01-03 12:59:19,523 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-1] Checkpoint event - ignoring
2023-01-03 12:59:19,554 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-1] Checkpoint event - ignoring
2023-01-03 12:59:19,555 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-1] Checkpoint event - ignoring
2023-01-03 12:59:24,566 ERROR i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-1] Subscription was dropped
io.grpc.StatusRuntimeException: UNAVAILABLE: Channel shutdownNow invoked
	at io.grpc.Status.asRuntimeException(Status.java:535) ~[grpc-api-1.45.0.jar:1.45.0]
	at io.grpc.stub.ClientCalls$StreamObserverToCallListenerAdapter.onClose(ClientCalls.java:478) ~[grpc-stub-1.45.0.jar:1.45.0]
	at io.grpc.internal.ClientCallImpl.closeObserver(ClientCallImpl.java:562) ~[grpc-core-1.45.0.jar:1.45.0]
	at io.grpc.internal.ClientCallImpl.access$300(ClientCallImpl.java:70) ~[grpc-core-1.45.0.jar:1.45.0]
	at io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInternal(ClientCallImpl.java:743) ~[grpc-core-1.45.0.jar:1.45.0]
	at io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInContext(ClientCallImpl.java:722) ~[grpc-core-1.45.0.jar:1.45.0]
	at io.grpc.internal.ContextRunnable.run(ContextRunnable.java:37) ~[grpc-core-1.45.0.jar:1.45.0]
	at io.grpc.internal.SerializingExecutor.run(SerializingExecutor.java:133) ~[grpc-core-1.45.0.jar:1.45.0]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136) ~[?:?]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635) ~[?:?]
	at java.lang.Thread.run(Thread.java:833) ~[?:?]
2023-01-03 13:00:22,827 INFO i.e.e.a.c.AddProductItemToShoppingCartTests [Test worker] Starting AddProductItemToShoppingCartTests using Java 17.0.4.1 with PID 7923 (started by oskar in /home/oskar/Repos/EventSourcing.JVM/samples/event-sourcing-esdb-simple)
2023-01-03 13:00:22,839 DEBUG i.e.e.a.c.AddProductItemToShoppingCartTests [Test worker] Running with Spring Boot v3.0.1, Spring v6.0.3
2023-01-03 13:00:22,840 INFO i.e.e.a.c.AddProductItemToShoppingCartTests [Test worker] No active profile set, falling back to 1 default profile: "default"
2023-01-03 13:00:28,996 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [Test worker] Subscribing to all 'default'
2023-01-03 13:00:29,020 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-0] Checkpoint event - ignoring
2023-01-03 13:00:29,021 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-0] Checkpoint event - ignoring
2023-01-03 13:00:29,029 INFO i.e.e.a.c.AddProductItemToShoppingCartTests [Test worker] Started AddProductItemToShoppingCartTests in 6.592 seconds (process running for 8.153)
2023-01-03 13:00:37,493 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-0] Checkpoint event - ignoring
2023-01-03 13:00:45,252 ERROR i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-0] Subscription was dropped
io.grpc.StatusRuntimeException: UNAVAILABLE: Channel shutdownNow invoked
	at io.grpc.Status.asRuntimeException(Status.java:535) ~[grpc-api-1.45.0.jar:1.45.0]
	at io.grpc.stub.ClientCalls$StreamObserverToCallListenerAdapter.onClose(ClientCalls.java:478) ~[grpc-stub-1.45.0.jar:1.45.0]
	at io.grpc.internal.ClientCallImpl.closeObserver(ClientCallImpl.java:562) ~[grpc-core-1.45.0.jar:1.45.0]
	at io.grpc.internal.ClientCallImpl.access$300(ClientCallImpl.java:70) ~[grpc-core-1.45.0.jar:1.45.0]
	at io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInternal(ClientCallImpl.java:743) ~[grpc-core-1.45.0.jar:1.45.0]
	at io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInContext(ClientCallImpl.java:722) ~[grpc-core-1.45.0.jar:1.45.0]
	at io.grpc.internal.ContextRunnable.run(ContextRunnable.java:37) ~[grpc-core-1.45.0.jar:1.45.0]
	at io.grpc.internal.SerializingExecutor.run(SerializingExecutor.java:133) ~[grpc-core-1.45.0.jar:1.45.0]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136) ~[?:?]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635) ~[?:?]
	at java.lang.Thread.run(Thread.java:833) ~[?:?]
2023-01-03 13:00:51,723 INFO i.e.e.a.c.AddProductItemToShoppingCartTests [Test worker] Starting AddProductItemToShoppingCartTests using Java 17.0.4.1 with PID 8321 (started by oskar in /home/oskar/Repos/EventSourcing.JVM/samples/event-sourcing-esdb-simple)
2023-01-03 13:00:51,732 DEBUG i.e.e.a.c.AddProductItemToShoppingCartTests [Test worker] Running with Spring Boot v3.0.1, Spring v6.0.3
2023-01-03 13:00:51,733 INFO i.e.e.a.c.AddProductItemToShoppingCartTests [Test worker] No active profile set, falling back to 1 default profile: "default"
2023-01-03 13:00:57,109 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [Test worker] Subscribing to all 'default'
2023-01-03 13:00:57,134 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-0] Checkpoint event - ignoring
2023-01-03 13:00:57,145 INFO i.e.e.a.c.AddProductItemToShoppingCartTests [Test worker] Started AddProductItemToShoppingCartTests in 5.801 seconds (process running for 7.288)
2023-01-03 13:00:57,824 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-0] Checkpoint event - ignoring
2023-01-03 13:00:57,861 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-0] Checkpoint event - ignoring
2023-01-03 13:00:57,862 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-0] Checkpoint event - ignoring
2023-01-03 13:00:57,901 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-1] Checkpoint event - ignoring
2023-01-03 13:00:57,935 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-1] Checkpoint event - ignoring
2023-01-03 13:00:57,992 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-1] Checkpoint event - ignoring
2023-01-03 13:00:58,030 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-1] Checkpoint event - ignoring
2023-01-03 13:00:58,065 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-1] Checkpoint event - ignoring
2023-01-03 13:00:58,066 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-1] Checkpoint event - ignoring
2023-01-03 13:00:58,111 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-1] Checkpoint event - ignoring
2023-01-03 13:00:58,200 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-0] Checkpoint event - ignoring
2023-01-03 13:00:58,255 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-0] Checkpoint event - ignoring
2023-01-03 13:00:58,296 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-2] Checkpoint event - ignoring
2023-01-03 13:00:58,337 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-0] Checkpoint event - ignoring
2023-01-03 13:00:58,441 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-2] Checkpoint event - ignoring
2023-01-03 13:00:58,444 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-2] Checkpoint event - ignoring
2023-01-03 13:00:58,495 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-0] Checkpoint event - ignoring
2023-01-03 13:00:58,545 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-0] Checkpoint event - ignoring
2023-01-03 13:00:58,588 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-2] Checkpoint event - ignoring
2023-01-03 13:00:58,629 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-2] Checkpoint event - ignoring
2023-01-03 13:00:58,715 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-0] Checkpoint event - ignoring
2023-01-03 13:00:58,755 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-2] Checkpoint event - ignoring
2023-01-03 13:00:58,790 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-2] Checkpoint event - ignoring
2023-01-03 13:00:58,791 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-2] Checkpoint event - ignoring
2023-01-03 13:00:58,826 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-0] Checkpoint event - ignoring
2023-01-03 13:00:58,876 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-2] Checkpoint event - ignoring
2023-01-03 13:00:58,959 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-2] Checkpoint event - ignoring
2023-01-03 13:00:58,960 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-2] Checkpoint event - ignoring
2023-01-03 13:00:59,030 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-2] Checkpoint event - ignoring
2023-01-03 13:00:59,030 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-2] Checkpoint event - ignoring
2023-01-03 13:00:59,068 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-2] Checkpoint event - ignoring
2023-01-03 13:00:59,106 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-0] Checkpoint event - ignoring
2023-01-03 13:00:59,181 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-0] Checkpoint event - ignoring
2023-01-03 13:00:59,182 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-0] Checkpoint event - ignoring
2023-01-03 13:00:59,238 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-0] Checkpoint event - ignoring
2023-01-03 13:00:59,307 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-0] Checkpoint event - ignoring
2023-01-03 13:00:59,360 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-0] Checkpoint event - ignoring
2023-01-03 13:00:59,402 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-1] Checkpoint event - ignoring
2023-01-03 13:00:59,458 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-0] Checkpoint event - ignoring
2023-01-03 13:00:59,519 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-0] Checkpoint event - ignoring
2023-01-03 13:00:59,710 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-0] Checkpoint event - ignoring
2023-01-03 13:00:59,834 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-0] Checkpoint event - ignoring
2023-01-03 13:00:59,908 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-1] Checkpoint event - ignoring
2023-01-03 13:00:59,953 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-1] Checkpoint event - ignoring
2023-01-03 13:00:59,954 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-1] Checkpoint event - ignoring
2023-01-03 13:01:00,003 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-1] Checkpoint event - ignoring
2023-01-03 13:01:05,031 ERROR i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-1] Error while handling event
java.lang.RuntimeException: java.util.concurrent.ExecutionException: com.eventstore.dbclient.ConnectionShutdownException: The connection is closed
	at io.eventdriven.ecommerce.core.subscriptions.EventStoreDBSubscriptionCheckpointRepository.store(EventStoreDBSubscriptionCheckpointRepository.java:64) ~[main/:?]
	at io.eventdriven.ecommerce.core.subscriptions.EventStoreDBSubscriptionToAll.handleEvent(EventStoreDBSubscriptionToAll.java:127) ~[main/:?]
	at io.eventdriven.ecommerce.core.subscriptions.EventStoreDBSubscriptionToAll$1.onEvent(EventStoreDBSubscriptionToAll.java:29) ~[main/:?]
	at com.eventstore.dbclient.AbstractRegularSubscription$1.onNext(AbstractRegularSubscription.java:95) ~[db-client-java-4.0.0.jar:?]
	at com.eventstore.dbclient.AbstractRegularSubscription$1.onNext(AbstractRegularSubscription.java:50) ~[db-client-java-4.0.0.jar:?]
	at io.grpc.stub.ClientCalls$StreamObserverToCallListenerAdapter.onMessage(ClientCalls.java:465) ~[grpc-stub-1.45.0.jar:1.45.0]
	at io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1MessagesAvailable.runInternal(ClientCallImpl.java:661) ~[grpc-core-1.45.0.jar:1.45.0]
	at io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1MessagesAvailable.runInContext(ClientCallImpl.java:646) ~[grpc-core-1.45.0.jar:1.45.0]
	at io.grpc.internal.ContextRunnable.run(ContextRunnable.java:37) ~[grpc-core-1.45.0.jar:1.45.0]
	at io.grpc.internal.SerializingExecutor.run(SerializingExecutor.java:133) ~[grpc-core-1.45.0.jar:1.45.0]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136) ~[?:?]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635) ~[?:?]
	at java.lang.Thread.run(Thread.java:833) ~[?:?]
Caused by: java.util.concurrent.ExecutionException: com.eventstore.dbclient.ConnectionShutdownException: The connection is closed
	at java.util.concurrent.CompletableFuture.reportGet(CompletableFuture.java:396) ~[?:?]
	at java.util.concurrent.CompletableFuture.get(CompletableFuture.java:2073) ~[?:?]
	at io.eventdriven.ecommerce.core.subscriptions.EventStoreDBSubscriptionCheckpointRepository.store(EventStoreDBSubscriptionCheckpointRepository.java:61) ~[main/:?]
	... 12 more
Caused by: com.eventstore.dbclient.ConnectionShutdownException: The connection is closed
	at com.eventstore.dbclient.GrpcClient.handleMsg(GrpcClient.java:230) ~[db-client-java-4.0.0.jar:?]
	at com.eventstore.dbclient.GrpcClient.messageLoop(GrpcClient.java:296) ~[db-client-java-4.0.0.jar:?]
	at java.util.concurrent.CompletableFuture$AsyncRun.run(CompletableFuture.java:1804) ~[?:?]
	... 3 more
2023-01-03 13:01:51,146 INFO i.e.e.a.c.AddProductItemToShoppingCartTests [Test worker] Starting AddProductItemToShoppingCartTests using Java 17.0.4.1 with PID 8712 (started by oskar in /home/oskar/Repos/EventSourcing.JVM/samples/event-sourcing-esdb-simple)
2023-01-03 13:01:51,157 DEBUG i.e.e.a.c.AddProductItemToShoppingCartTests [Test worker] Running with Spring Boot v3.0.1, Spring v6.0.3
2023-01-03 13:01:51,159 INFO i.e.e.a.c.AddProductItemToShoppingCartTests [Test worker] No active profile set, falling back to 1 default profile: "default"
2023-01-03 13:01:57,378 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [Test worker] Subscribing to all 'default'
2023-01-03 13:01:57,400 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-0] Checkpoint event - ignoring
2023-01-03 13:01:57,416 INFO i.e.e.a.c.AddProductItemToShoppingCartTests [Test worker] Started AddProductItemToShoppingCartTests in 6.664 seconds (process running for 8.264)
2023-01-03 13:01:57,601 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-0] Checkpoint event - ignoring
2023-01-03 13:01:57,604 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-0] Checkpoint event - ignoring
2023-01-03 13:04:24,179 INFO i.e.e.a.c.AddProductItemToShoppingCartTests [Test worker] Starting AddProductItemToShoppingCartTests using Java 17.0.4.1 with PID 9119 (started by oskar in /home/oskar/Repos/EventSourcing.JVM/samples/event-sourcing-esdb-simple)
2023-01-03 13:04:24,188 DEBUG i.e.e.a.c.AddProductItemToShoppingCartTests [Test worker] Running with Spring Boot v3.0.1, Spring v6.0.3
2023-01-03 13:04:24,190 INFO i.e.e.a.c.AddProductItemToShoppingCartTests [Test worker] No active profile set, falling back to 1 default profile: "default"
2023-01-03 13:04:31,238 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [Test worker] Subscribing to all 'default'
2023-01-03 13:04:31,262 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-0] Checkpoint event - ignoring
2023-01-03 13:04:31,267 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-0] Checkpoint event - ignoring
2023-01-03 13:04:31,279 INFO i.e.e.a.c.AddProductItemToShoppingCartTests [Test worker] Started AddProductItemToShoppingCartTests in 7.62 seconds (process running for 9.506)
2023-01-03 13:04:31,506 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-0] Checkpoint event - ignoring
2023-01-03 13:14:56,932 INFO i.e.e.a.c.AddProductItemToShoppingCartTests [Test worker] Starting AddProductItemToShoppingCartTests using Java 17.0.4.1 with PID 9590 (started by oskar in /home/oskar/Repos/EventSourcing.JVM/samples/event-sourcing-esdb-simple)
2023-01-03 13:14:56,941 DEBUG i.e.e.a.c.AddProductItemToShoppingCartTests [Test worker] Running with Spring Boot v3.0.1, Spring v6.0.3
2023-01-03 13:14:56,942 INFO i.e.e.a.c.AddProductItemToShoppingCartTests [Test worker] No active profile set, falling back to 1 default profile: "default"
2023-01-03 13:15:03,526 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [Test worker] Subscribing to all 'default'
2023-01-03 13:15:03,554 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-0] Checkpoint event - ignoring
2023-01-03 13:15:03,565 INFO i.e.e.a.c.AddProductItemToShoppingCartTests [Test worker] Started AddProductItemToShoppingCartTests in 7.091 seconds (process running for 9.1)
2023-01-03 13:15:04,002 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-0] Checkpoint event - ignoring
2023-01-03 13:19:49,446 INFO i.e.e.a.c.AddProductItemToShoppingCartTests [Test worker] Starting AddProductItemToShoppingCartTests using Java 17.0.4.1 with PID 10015 (started by oskar in /home/oskar/Repos/EventSourcing.JVM/samples/event-sourcing-esdb-simple)
2023-01-03 13:19:49,465 DEBUG i.e.e.a.c.AddProductItemToShoppingCartTests [Test worker] Running with Spring Boot v3.0.1, Spring v6.0.3
2023-01-03 13:19:49,467 INFO i.e.e.a.c.AddProductItemToShoppingCartTests [Test worker] No active profile set, falling back to 1 default profile: "default"
2023-01-03 13:19:55,426 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [Test worker] Subscribing to all 'default'
2023-01-03 13:19:55,457 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-0] Checkpoint event - ignoring
2023-01-03 13:19:55,470 INFO i.e.e.a.c.AddProductItemToShoppingCartTests [Test worker] Started AddProductItemToShoppingCartTests in 6.41 seconds (process running for 8.336)
2023-01-03 13:19:55,645 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-0] Checkpoint event - ignoring
2023-01-03 13:19:55,928 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-0] Checkpoint event - ignoring
2023-01-03 13:19:56,121 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-2] Checkpoint event - ignoring
2023-01-03 13:19:56,163 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-2] Checkpoint event - ignoring
2023-01-03 13:19:56,198 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-2] Checkpoint event - ignoring
2023-01-03 13:19:56,199 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-2] Checkpoint event - ignoring
2023-01-03 13:19:56,261 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-2] Checkpoint event - ignoring
2023-01-03 13:19:56,357 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-0] Checkpoint event - ignoring
2023-01-03 13:19:56,411 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-0] Checkpoint event - ignoring
2023-01-03 13:19:56,456 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-0] Checkpoint event - ignoring
2023-01-03 13:19:56,522 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-2] Checkpoint event - ignoring
2023-01-03 13:19:56,523 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-2] Checkpoint event - ignoring
2023-01-03 13:19:56,523 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-2] Checkpoint event - ignoring
2023-01-03 13:19:56,568 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-2] Checkpoint event - ignoring
2023-01-03 13:19:56,648 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-2] Checkpoint event - ignoring
2023-01-03 13:19:56,704 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-2] Checkpoint event - ignoring
2023-01-03 13:19:56,787 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-2] Checkpoint event - ignoring
2023-01-03 13:19:56,845 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-0] Checkpoint event - ignoring
2023-01-03 13:19:56,929 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-0] Checkpoint event - ignoring
2023-01-03 13:19:56,930 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-0] Checkpoint event - ignoring
2023-01-03 13:19:56,972 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-0] Checkpoint event - ignoring
2023-01-03 13:19:57,042 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-2] Checkpoint event - ignoring
2023-01-03 13:19:57,076 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-2] Checkpoint event - ignoring
2023-01-03 13:19:57,118 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-2] Checkpoint event - ignoring
2023-01-03 13:19:57,202 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-2] Checkpoint event - ignoring
2023-01-03 13:19:57,256 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-2] Checkpoint event - ignoring
2023-01-03 13:19:57,292 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-2] Checkpoint event - ignoring
2023-01-03 13:19:57,325 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-2] Checkpoint event - ignoring
2023-01-03 13:19:57,363 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-2] Checkpoint event - ignoring
2023-01-03 13:19:57,409 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-2] Checkpoint event - ignoring
2023-01-03 13:19:57,410 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-2] Checkpoint event - ignoring
2023-01-03 13:19:57,484 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-2] Checkpoint event - ignoring
2023-01-03 13:19:57,517 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-2] Checkpoint event - ignoring
2023-01-03 13:19:57,547 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-2] Checkpoint event - ignoring
2023-01-03 13:19:57,548 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-2] Checkpoint event - ignoring
2023-01-03 13:19:57,604 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-2] Checkpoint event - ignoring
2023-01-03 13:19:57,638 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-2] Checkpoint event - ignoring
2023-01-03 13:19:57,750 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-2] Checkpoint event - ignoring
2023-01-03 13:19:57,827 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-2] Checkpoint event - ignoring
2023-01-03 13:19:57,867 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-2] Checkpoint event - ignoring
2023-01-03 13:19:57,874 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-2] Checkpoint event - ignoring
2023-01-03 13:19:58,013 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-2] Checkpoint event - ignoring
2023-01-03 13:19:58,015 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-2] Checkpoint event - ignoring
2023-01-03 13:19:58,079 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-2] Checkpoint event - ignoring
2023-01-03 13:19:58,131 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-2] Checkpoint event - ignoring
2023-01-03 13:19:58,242 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-2] Checkpoint event - ignoring
2023-01-03 13:19:58,284 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-2] Checkpoint event - ignoring
2023-01-03 13:19:58,349 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-0] Checkpoint event - ignoring
2023-01-03 13:19:58,441 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-0] Checkpoint event - ignoring
2023-01-03 13:19:58,443 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-0] Checkpoint event - ignoring
2023-01-03 13:19:58,483 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-0] Checkpoint event - ignoring
2023-01-03 13:19:58,544 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-0] Checkpoint event - ignoring
2023-01-03 13:19:58,584 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-2] Checkpoint event - ignoring
2023-01-03 13:19:58,646 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-2] Checkpoint event - ignoring
2023-01-03 13:19:58,694 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-2] Checkpoint event - ignoring
2023-01-03 13:19:58,776 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-2] Checkpoint event - ignoring
2023-01-03 13:19:58,905 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-0] Checkpoint event - ignoring
2023-01-03 13:19:58,906 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-0] Checkpoint event - ignoring
2023-01-03 13:19:58,997 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-2] Checkpoint event - ignoring
2023-01-03 13:19:59,031 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-0] Checkpoint event - ignoring
2023-01-03 13:19:59,093 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-0] Checkpoint event - ignoring
2023-01-03 13:19:59,127 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-0] Checkpoint event - ignoring
2023-01-03 13:19:59,169 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-0] Checkpoint event - ignoring
2023-01-03 13:19:59,203 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-0] Checkpoint event - ignoring
2023-01-03 13:20:04,229 ERROR i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-0] Error while handling event
java.lang.RuntimeException: java.util.concurrent.ExecutionException: com.eventstore.dbclient.ConnectionShutdownException: The connection is closed
	at io.eventdriven.ecommerce.core.subscriptions.EventStoreDBSubscriptionCheckpointRepository.store(EventStoreDBSubscriptionCheckpointRepository.java:64) ~[main/:?]
	at io.eventdriven.ecommerce.core.subscriptions.EventStoreDBSubscriptionToAll.handleEvent(EventStoreDBSubscriptionToAll.java:127) ~[main/:?]
	at io.eventdriven.ecommerce.core.subscriptions.EventStoreDBSubscriptionToAll$1.onEvent(EventStoreDBSubscriptionToAll.java:29) ~[main/:?]
	at com.eventstore.dbclient.AbstractRegularSubscription$1.onNext(AbstractRegularSubscription.java:95) ~[db-client-java-4.0.0.jar:?]
	at com.eventstore.dbclient.AbstractRegularSubscription$1.onNext(AbstractRegularSubscription.java:50) ~[db-client-java-4.0.0.jar:?]
	at io.grpc.stub.ClientCalls$StreamObserverToCallListenerAdapter.onMessage(ClientCalls.java:465) ~[grpc-stub-1.45.0.jar:1.45.0]
	at io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1MessagesAvailable.runInternal(ClientCallImpl.java:661) ~[grpc-core-1.45.0.jar:1.45.0]
	at io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1MessagesAvailable.runInContext(ClientCallImpl.java:646) ~[grpc-core-1.45.0.jar:1.45.0]
	at io.grpc.internal.ContextRunnable.run(ContextRunnable.java:37) ~[grpc-core-1.45.0.jar:1.45.0]
	at io.grpc.internal.SerializingExecutor.run(SerializingExecutor.java:133) ~[grpc-core-1.45.0.jar:1.45.0]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136) ~[?:?]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635) ~[?:?]
	at java.lang.Thread.run(Thread.java:833) ~[?:?]
Caused by: java.util.concurrent.ExecutionException: com.eventstore.dbclient.ConnectionShutdownException: The connection is closed
	at java.util.concurrent.CompletableFuture.reportGet(CompletableFuture.java:396) ~[?:?]
	at java.util.concurrent.CompletableFuture.get(CompletableFuture.java:2073) ~[?:?]
	at io.eventdriven.ecommerce.core.subscriptions.EventStoreDBSubscriptionCheckpointRepository.store(EventStoreDBSubscriptionCheckpointRepository.java:61) ~[main/:?]
	... 12 more
Caused by: com.eventstore.dbclient.ConnectionShutdownException: The connection is closed
	at com.eventstore.dbclient.GrpcClient.handleMsg(GrpcClient.java:230) ~[db-client-java-4.0.0.jar:?]
	at com.eventstore.dbclient.GrpcClient.messageLoop(GrpcClient.java:296) ~[db-client-java-4.0.0.jar:?]
	at java.util.concurrent.CompletableFuture$AsyncRun.run(CompletableFuture.java:1804) ~[?:?]
	... 3 more
2023-01-03 13:21:42,723 INFO i.e.e.a.c.AddProductItemToShoppingCartTests [Test worker] Starting AddProductItemToShoppingCartTests using Java 17.0.4.1 with PID 10421 (started by oskar in /home/oskar/Repos/EventSourcing.JVM/samples/event-sourcing-esdb-simple)
2023-01-03 13:21:42,734 DEBUG i.e.e.a.c.AddProductItemToShoppingCartTests [Test worker] Running with Spring Boot v3.0.1, Spring v6.0.3
2023-01-03 13:21:42,736 INFO i.e.e.a.c.AddProductItemToShoppingCartTests [Test worker] No active profile set, falling back to 1 default profile: "default"
2023-01-03 13:21:50,029 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [Test worker] Subscribing to all 'default'
2023-01-03 13:21:50,055 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-0] Checkpoint event - ignoring
2023-01-03 13:21:50,069 INFO i.e.e.a.c.AddProductItemToShoppingCartTests [Test worker] Started AddProductItemToShoppingCartTests in 7.787 seconds (process running for 9.808)
2023-01-03 13:21:50,173 WARN i.e.e.c.p.JPAProjection [grpc-default-executor-0] View with id 611e5023-9b61-4027-8d3b-590202cfa513 was already applied for event io.eventdriven.ecommerce.shoppingcarts.ShoppingCartEvent__ProductItemAddedToShoppingCart
2023-01-03 13:21:50,179 WARN i.e.e.c.p.JPAProjection [grpc-default-executor-0] View with id 611e5023-9b61-4027-8d3b-590202cfa513 was already applied for event io.eventdriven.ecommerce.shoppingcarts.ShoppingCartEvent__ProductItemAddedToShoppingCart
2023-01-03 13:21:50,243 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-0] Checkpoint event - ignoring
2023-01-03 13:21:50,244 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-0] Checkpoint event - ignoring
2023-01-03 13:21:50,247 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-0] Checkpoint event - ignoring
2023-01-03 13:21:59,991 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-1] Checkpoint event - ignoring
2023-01-03 13:21:59,992 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-1] Checkpoint event - ignoring
2023-01-03 13:22:05,069 ERROR i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-1] Subscription was dropped
io.grpc.StatusRuntimeException: UNAVAILABLE: Channel shutdownNow invoked
	at io.grpc.Status.asRuntimeException(Status.java:535) ~[grpc-api-1.45.0.jar:1.45.0]
	at io.grpc.stub.ClientCalls$StreamObserverToCallListenerAdapter.onClose(ClientCalls.java:478) ~[grpc-stub-1.45.0.jar:1.45.0]
	at io.grpc.internal.ClientCallImpl.closeObserver(ClientCallImpl.java:562) ~[grpc-core-1.45.0.jar:1.45.0]
	at io.grpc.internal.ClientCallImpl.access$300(ClientCallImpl.java:70) ~[grpc-core-1.45.0.jar:1.45.0]
	at io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInternal(ClientCallImpl.java:743) ~[grpc-core-1.45.0.jar:1.45.0]
	at io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInContext(ClientCallImpl.java:722) ~[grpc-core-1.45.0.jar:1.45.0]
	at io.grpc.internal.ContextRunnable.run(ContextRunnable.java:37) ~[grpc-core-1.45.0.jar:1.45.0]
	at io.grpc.internal.SerializingExecutor.run(SerializingExecutor.java:133) ~[grpc-core-1.45.0.jar:1.45.0]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136) ~[?:?]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635) ~[?:?]
	at java.lang.Thread.run(Thread.java:833) ~[?:?]
2023-01-03 13:22:39,727 INFO i.e.e.a.c.AddProductItemToShoppingCartTests [Test worker] Starting AddProductItemToShoppingCartTests using Java 17.0.4.1 with PID 10826 (started by oskar in /home/oskar/Repos/EventSourcing.JVM/samples/event-sourcing-esdb-simple)
2023-01-03 13:22:39,738 DEBUG i.e.e.a.c.AddProductItemToShoppingCartTests [Test worker] Running with Spring Boot v3.0.1, Spring v6.0.3
2023-01-03 13:22:39,739 INFO i.e.e.a.c.AddProductItemToShoppingCartTests [Test worker] No active profile set, falling back to 1 default profile: "default"
2023-01-03 13:22:46,361 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [Test worker] Subscribing to all 'default'
2023-01-03 13:22:46,393 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-0] Checkpoint event - ignoring
2023-01-03 13:22:46,395 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-0] Checkpoint event - ignoring
2023-01-03 13:22:46,406 INFO i.e.e.a.c.AddProductItemToShoppingCartTests [Test worker] Started AddProductItemToShoppingCartTests in 7.09 seconds (process running for 8.762)
2023-01-03 13:23:56,855 INFO i.e.e.a.c.AddProductItemToShoppingCartTests [Test worker] Starting AddProductItemToShoppingCartTests using Java 17.0.4.1 with PID 11223 (started by oskar in /home/oskar/Repos/EventSourcing.JVM/samples/event-sourcing-esdb-simple)
2023-01-03 13:23:56,867 DEBUG i.e.e.a.c.AddProductItemToShoppingCartTests [Test worker] Running with Spring Boot v3.0.1, Spring v6.0.3
2023-01-03 13:23:56,869 INFO i.e.e.a.c.AddProductItemToShoppingCartTests [Test worker] No active profile set, falling back to 1 default profile: "default"
2023-01-03 13:24:02,895 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [Test worker] Subscribing to all 'default'
2023-01-03 13:24:02,916 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-0] Checkpoint event - ignoring
2023-01-03 13:24:02,920 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-0] Checkpoint event - ignoring
2023-01-03 13:24:02,939 INFO i.e.e.a.c.AddProductItemToShoppingCartTests [Test worker] Started AddProductItemToShoppingCartTests in 6.505 seconds (process running for 8.536)
2023-01-03 13:24:03,294 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-1] Checkpoint event - ignoring
2023-01-03 13:24:03,295 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-1] Checkpoint event - ignoring
2023-01-03 13:24:03,567 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-0] Checkpoint event - ignoring
2023-01-03 13:24:03,776 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-0] Checkpoint event - ignoring
2023-01-03 13:24:03,805 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-2] Checkpoint event - ignoring
2023-01-03 13:24:03,854 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-0] Checkpoint event - ignoring
2023-01-03 13:24:03,902 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-0] Checkpoint event - ignoring
2023-01-03 13:24:03,904 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-0] Checkpoint event - ignoring
2023-01-03 13:24:03,962 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-2] Checkpoint event - ignoring
2023-01-03 13:24:04,060 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-2] Checkpoint event - ignoring
2023-01-03 13:24:04,105 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-0] Checkpoint event - ignoring
2023-01-03 13:24:04,152 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-0] Checkpoint event - ignoring
2023-01-03 13:24:04,197 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-0] Checkpoint event - ignoring
2023-01-03 13:24:04,227 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-0] Checkpoint event - ignoring
2023-01-03 13:24:04,268 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-0] Checkpoint event - ignoring
2023-01-03 13:24:04,269 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-0] Checkpoint event - ignoring
2023-01-03 13:24:04,329 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-2] Checkpoint event - ignoring
2023-01-03 13:24:04,435 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-2] Checkpoint event - ignoring
2023-01-03 13:24:04,499 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-2] Checkpoint event - ignoring
2023-01-03 13:24:04,557 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-2] Checkpoint event - ignoring
2023-01-03 13:24:04,594 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-0] Checkpoint event - ignoring
2023-01-03 13:24:04,691 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-0] Checkpoint event - ignoring
2023-01-03 13:24:04,726 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-2] Checkpoint event - ignoring
2023-01-03 13:24:04,727 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-2] Checkpoint event - ignoring
2023-01-03 13:24:04,771 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-2] Checkpoint event - ignoring
2023-01-03 13:24:04,820 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-2] Checkpoint event - ignoring
2023-01-03 13:24:04,872 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-2] Checkpoint event - ignoring
2023-01-03 13:24:04,911 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-2] Checkpoint event - ignoring
2023-01-03 13:24:05,006 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-0] Checkpoint event - ignoring
2023-01-03 13:24:05,068 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-0] Checkpoint event - ignoring
2023-01-03 13:24:05,112 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-0] Checkpoint event - ignoring
2023-01-03 13:24:05,186 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-0] Checkpoint event - ignoring
2023-01-03 13:24:05,187 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-0] Checkpoint event - ignoring
2023-01-03 13:24:05,223 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-0] Checkpoint event - ignoring
2023-01-03 13:24:05,263 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-0] Checkpoint event - ignoring
2023-01-03 13:24:05,308 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-1] Checkpoint event - ignoring
2023-01-03 13:24:05,384 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-1] Checkpoint event - ignoring
2023-01-03 13:24:05,384 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-1] Checkpoint event - ignoring
2023-01-03 13:24:05,418 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-1] Checkpoint event - ignoring
2023-01-03 13:24:05,481 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-0] Checkpoint event - ignoring
2023-01-03 13:24:05,482 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-0] Checkpoint event - ignoring
2023-01-03 13:24:05,528 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-0] Checkpoint event - ignoring
2023-01-03 13:24:05,556 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-0] Checkpoint event - ignoring
2023-01-03 13:24:05,595 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-0] Checkpoint event - ignoring
2023-01-03 13:24:05,625 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-0] Checkpoint event - ignoring
2023-01-03 13:24:05,670 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-0] Checkpoint event - ignoring
2023-01-03 13:24:05,705 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-0] Checkpoint event - ignoring
2023-01-03 13:24:05,741 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-1] Checkpoint event - ignoring
2023-01-03 13:24:05,785 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-0] Checkpoint event - ignoring
2023-01-03 13:24:05,815 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-1] Checkpoint event - ignoring
2023-01-03 13:24:05,861 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-1] Checkpoint event - ignoring
2023-01-03 13:24:05,897 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-1] Checkpoint event - ignoring
2023-01-03 13:24:05,948 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-1] Checkpoint event - ignoring
2023-01-03 13:24:05,981 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-1] Checkpoint event - ignoring
2023-01-03 13:24:06,035 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-2] Checkpoint event - ignoring
2023-01-03 13:24:06,069 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-2] Checkpoint event - ignoring
2023-01-03 13:24:06,116 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-2] Checkpoint event - ignoring
2023-01-03 13:24:06,192 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-2] Checkpoint event - ignoring
2023-01-03 13:24:06,192 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-2] Checkpoint event - ignoring
2023-01-03 13:24:06,286 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-2] Checkpoint event - ignoring
2023-01-03 13:24:06,287 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-2] Checkpoint event - ignoring
2023-01-03 13:24:06,360 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-2] Checkpoint event - ignoring
2023-01-03 13:24:06,394 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-2] Checkpoint event - ignoring
2023-01-03 13:24:06,432 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-2] Checkpoint event - ignoring
2023-01-03 13:24:06,496 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-0] Checkpoint event - ignoring
2023-01-03 13:24:06,542 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-1] Checkpoint event - ignoring
2023-01-03 13:24:06,590 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-0] Checkpoint event - ignoring
2023-01-03 13:24:06,620 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-0] Checkpoint event - ignoring
2023-01-03 13:24:11,639 ERROR i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-0] Error while handling event
java.lang.RuntimeException: java.util.concurrent.ExecutionException: com.eventstore.dbclient.ConnectionShutdownException: The connection is closed
	at io.eventdriven.ecommerce.core.subscriptions.EventStoreDBSubscriptionCheckpointRepository.store(EventStoreDBSubscriptionCheckpointRepository.java:64) ~[main/:?]
	at io.eventdriven.ecommerce.core.subscriptions.EventStoreDBSubscriptionToAll.handleEvent(EventStoreDBSubscriptionToAll.java:127) ~[main/:?]
	at io.eventdriven.ecommerce.core.subscriptions.EventStoreDBSubscriptionToAll$1.onEvent(EventStoreDBSubscriptionToAll.java:29) ~[main/:?]
	at com.eventstore.dbclient.AbstractRegularSubscription$1.onNext(AbstractRegularSubscription.java:95) ~[db-client-java-4.0.0.jar:?]
	at com.eventstore.dbclient.AbstractRegularSubscription$1.onNext(AbstractRegularSubscription.java:50) ~[db-client-java-4.0.0.jar:?]
	at io.grpc.stub.ClientCalls$StreamObserverToCallListenerAdapter.onMessage(ClientCalls.java:465) ~[grpc-stub-1.45.0.jar:1.45.0]
	at io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1MessagesAvailable.runInternal(ClientCallImpl.java:661) ~[grpc-core-1.45.0.jar:1.45.0]
	at io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1MessagesAvailable.runInContext(ClientCallImpl.java:646) ~[grpc-core-1.45.0.jar:1.45.0]
	at io.grpc.internal.ContextRunnable.run(ContextRunnable.java:37) ~[grpc-core-1.45.0.jar:1.45.0]
	at io.grpc.internal.SerializingExecutor.run(SerializingExecutor.java:133) ~[grpc-core-1.45.0.jar:1.45.0]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136) ~[?:?]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635) ~[?:?]
	at java.lang.Thread.run(Thread.java:833) ~[?:?]
Caused by: java.util.concurrent.ExecutionException: com.eventstore.dbclient.ConnectionShutdownException: The connection is closed
	at java.util.concurrent.CompletableFuture.reportGet(CompletableFuture.java:396) ~[?:?]
	at java.util.concurrent.CompletableFuture.get(CompletableFuture.java:2073) ~[?:?]
	at io.eventdriven.ecommerce.core.subscriptions.EventStoreDBSubscriptionCheckpointRepository.store(EventStoreDBSubscriptionCheckpointRepository.java:61) ~[main/:?]
	... 12 more
Caused by: com.eventstore.dbclient.ConnectionShutdownException: The connection is closed
	at com.eventstore.dbclient.GrpcClient.handleMsg(GrpcClient.java:230) ~[db-client-java-4.0.0.jar:?]
	at com.eventstore.dbclient.GrpcClient.messageLoop(GrpcClient.java:296) ~[db-client-java-4.0.0.jar:?]
	at java.util.concurrent.CompletableFuture$AsyncRun.run(CompletableFuture.java:1804) ~[?:?]
	... 3 more
2023-01-03 13:24:46,608 INFO i.e.e.a.c.CancelShoppingCartTests [Test worker] Starting CancelShoppingCartTests using Java 17.0.4.1 with PID 11620 (started by oskar in /home/oskar/Repos/EventSourcing.JVM/samples/event-sourcing-esdb-simple)
2023-01-03 13:24:46,626 DEBUG i.e.e.a.c.CancelShoppingCartTests [Test worker] Running with Spring Boot v3.0.1, Spring v6.0.3
2023-01-03 13:24:46,628 INFO i.e.e.a.c.CancelShoppingCartTests [Test worker] No active profile set, falling back to 1 default profile: "default"
2023-01-03 13:24:52,304 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [Test worker] Subscribing to all 'default'
2023-01-03 13:24:52,325 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-0] Checkpoint event - ignoring
2023-01-03 13:24:52,345 INFO i.e.e.a.c.CancelShoppingCartTests [Test worker] Started CancelShoppingCartTests in 6.133 seconds (process running for 7.721)
2023-01-03 13:24:52,444 WARN i.e.e.c.p.JPAProjection [grpc-default-executor-0] View with id f3956bfc-f6be-42c2-ba92-f4ec464fd4af was already applied for event io.eventdriven.ecommerce.shoppingcarts.ShoppingCartEvent__ProductItemAddedToShoppingCart
2023-01-03 13:24:52,450 WARN i.e.e.c.p.JPAProjection [grpc-default-executor-0] View with id f3956bfc-f6be-42c2-ba92-f4ec464fd4af was already applied for event io.eventdriven.ecommerce.shoppingcarts.ShoppingCartEvent__ProductItemAddedToShoppingCart
2023-01-03 13:24:52,514 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-0] Checkpoint event - ignoring
2023-01-03 13:24:52,607 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-0] Checkpoint event - ignoring
2023-01-03 13:24:52,654 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-1] Checkpoint event - ignoring
2023-01-03 13:24:52,657 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-1] Checkpoint event - ignoring
2023-01-03 13:24:52,658 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-1] Checkpoint event - ignoring
2023-01-03 13:24:52,659 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-1] Checkpoint event - ignoring
2023-01-03 13:24:52,900 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-1] Checkpoint event - ignoring
2023-01-03 13:24:56,825 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-1] Checkpoint event - ignoring
2023-01-03 13:25:49,729 INFO i.e.e.a.c.CancelShoppingCartTests [Test worker] Starting CancelShoppingCartTests using Java 17.0.4.1 with PID 12009 (started by oskar in /home/oskar/Repos/EventSourcing.JVM/samples/event-sourcing-esdb-simple)
2023-01-03 13:25:49,739 DEBUG i.e.e.a.c.CancelShoppingCartTests [Test worker] Running with Spring Boot v3.0.1, Spring v6.0.3
2023-01-03 13:25:49,740 INFO i.e.e.a.c.CancelShoppingCartTests [Test worker] No active profile set, falling back to 1 default profile: "default"
2023-01-03 13:25:55,746 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [Test worker] Subscribing to all 'default'
2023-01-03 13:25:55,769 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-0] Checkpoint event - ignoring
2023-01-03 13:25:55,781 INFO i.e.e.a.c.CancelShoppingCartTests [Test worker] Started CancelShoppingCartTests in 6.395 seconds (process running for 8.05)
2023-01-03 13:25:56,018 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-0] Checkpoint event - ignoring
2023-01-03 13:25:56,267 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-0] Checkpoint event - ignoring
2023-01-03 13:25:56,314 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-0] Checkpoint event - ignoring
2023-01-03 13:28:11,042 INFO i.e.e.a.c.AddProductItemToShoppingCartTests [Test worker] Starting AddProductItemToShoppingCartTests using Java 17.0.4.1 with PID 12432 (started by oskar in /home/oskar/Repos/EventSourcing.JVM/samples/event-sourcing-esdb-simple)
2023-01-03 13:28:11,052 DEBUG i.e.e.a.c.AddProductItemToShoppingCartTests [Test worker] Running with Spring Boot v3.0.1, Spring v6.0.3
2023-01-03 13:28:11,053 INFO i.e.e.a.c.AddProductItemToShoppingCartTests [Test worker] No active profile set, falling back to 1 default profile: "default"
2023-01-03 13:28:16,856 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [Test worker] Subscribing to all 'default'
2023-01-03 13:28:16,874 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-0] Checkpoint event - ignoring
2023-01-03 13:28:16,883 INFO i.e.e.a.c.AddProductItemToShoppingCartTests [Test worker] Started AddProductItemToShoppingCartTests in 6.182 seconds (process running for 7.674)
2023-01-03 13:28:17,140 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-0] Checkpoint event - ignoring
2023-01-03 13:28:17,350 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-0] Checkpoint event - ignoring
2023-01-03 13:28:17,502 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-2] Checkpoint event - ignoring
2023-01-03 13:28:17,541 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-1] Checkpoint event - ignoring
2023-01-03 13:28:17,587 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-1] Checkpoint event - ignoring
2023-01-03 13:28:17,621 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-1] Checkpoint event - ignoring
2023-01-03 13:28:17,621 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-1] Checkpoint event - ignoring
2023-01-03 13:28:17,680 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-1] Checkpoint event - ignoring
2023-01-03 13:28:17,758 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-2] Checkpoint event - ignoring
2023-01-03 13:28:17,803 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-2] Checkpoint event - ignoring
2023-01-03 13:28:17,848 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-1] Checkpoint event - ignoring
2023-01-03 13:28:17,924 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-1] Checkpoint event - ignoring
2023-01-03 13:28:17,968 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-1] Checkpoint event - ignoring
2023-01-03 13:28:17,969 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-1] Checkpoint event - ignoring
2023-01-03 13:28:18,007 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-1] Checkpoint event - ignoring
2023-01-03 13:28:18,008 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-1] Checkpoint event - ignoring
2023-01-03 13:28:18,092 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-1] Checkpoint event - ignoring
2023-01-03 13:28:18,152 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-2] Checkpoint event - ignoring
2023-01-03 13:28:18,217 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-1] Checkpoint event - ignoring
2023-01-03 13:28:18,272 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-1] Checkpoint event - ignoring
2023-01-03 13:28:18,367 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-1] Checkpoint event - ignoring
2023-01-03 13:28:18,413 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-1] Checkpoint event - ignoring
2023-01-03 13:28:18,445 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-1] Checkpoint event - ignoring
2023-01-03 13:28:18,482 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-1] Checkpoint event - ignoring
2023-01-03 13:28:18,483 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-1] Checkpoint event - ignoring
2023-01-03 13:28:18,524 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-1] Checkpoint event - ignoring
2023-01-03 13:28:18,578 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-1] Checkpoint event - ignoring
2023-01-03 13:28:18,704 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-1] Checkpoint event - ignoring
2023-01-03 13:28:18,764 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-1] Checkpoint event - ignoring
2023-01-03 13:28:18,925 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-1] Checkpoint event - ignoring
2023-01-03 13:28:19,022 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-1] Checkpoint event - ignoring
2023-01-03 13:28:19,234 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-2] Checkpoint event - ignoring
2023-01-03 13:28:19,332 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-1] Checkpoint event - ignoring
2023-01-03 13:28:19,442 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-2] Checkpoint event - ignoring
2023-01-03 13:28:19,546 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-2] Checkpoint event - ignoring
2023-01-03 13:28:19,724 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-1] Checkpoint event - ignoring
2023-01-03 13:28:19,817 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-1] Checkpoint event - ignoring
2023-01-03 13:28:19,928 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-1] Checkpoint event - ignoring
2023-01-03 13:28:19,987 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-0] Checkpoint event - ignoring
2023-01-03 13:28:20,029 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-0] Checkpoint event - ignoring
2023-01-03 13:28:20,122 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-0] Checkpoint event - ignoring
2023-01-03 13:28:20,174 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-0] Checkpoint event - ignoring
2023-01-03 13:28:20,286 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-0] Checkpoint event - ignoring
2023-01-03 13:28:20,287 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-0] Checkpoint event - ignoring
2023-01-03 13:28:20,372 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-0] Checkpoint event - ignoring
2023-01-03 13:28:20,421 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-0] Checkpoint event - ignoring
2023-01-03 13:28:20,467 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-1] Checkpoint event - ignoring
2023-01-03 13:28:20,510 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-0] Checkpoint event - ignoring
2023-01-03 13:28:20,570 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-0] Checkpoint event - ignoring
2023-01-03 13:28:20,669 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-1] Checkpoint event - ignoring
2023-01-03 13:28:20,720 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-1] Checkpoint event - ignoring
2023-01-03 13:28:20,775 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-0] Checkpoint event - ignoring
2023-01-03 13:28:20,815 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-2] Checkpoint event - ignoring
2023-01-03 13:28:20,856 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-2] Checkpoint event - ignoring
2023-01-03 13:28:20,939 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-2] Checkpoint event - ignoring
2023-01-03 13:28:20,976 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-2] Checkpoint event - ignoring
2023-01-03 13:28:25,979 ERROR i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-2] Error while handling event
java.lang.RuntimeException: java.util.concurrent.ExecutionException: com.eventstore.dbclient.ConnectionShutdownException: The connection is closed
	at io.eventdriven.ecommerce.core.subscriptions.EventStoreDBSubscriptionCheckpointRepository.store(EventStoreDBSubscriptionCheckpointRepository.java:64) ~[main/:?]
	at io.eventdriven.ecommerce.core.subscriptions.EventStoreDBSubscriptionToAll.handleEvent(EventStoreDBSubscriptionToAll.java:127) ~[main/:?]
	at io.eventdriven.ecommerce.core.subscriptions.EventStoreDBSubscriptionToAll$1.onEvent(EventStoreDBSubscriptionToAll.java:29) ~[main/:?]
	at com.eventstore.dbclient.AbstractRegularSubscription$1.onNext(AbstractRegularSubscription.java:95) ~[db-client-java-4.0.0.jar:?]
	at com.eventstore.dbclient.AbstractRegularSubscription$1.onNext(AbstractRegularSubscription.java:50) ~[db-client-java-4.0.0.jar:?]
	at io.grpc.stub.ClientCalls$StreamObserverToCallListenerAdapter.onMessage(ClientCalls.java:465) ~[grpc-stub-1.45.0.jar:1.45.0]
	at io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1MessagesAvailable.runInternal(ClientCallImpl.java:661) ~[grpc-core-1.45.0.jar:1.45.0]
	at io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1MessagesAvailable.runInContext(ClientCallImpl.java:646) ~[grpc-core-1.45.0.jar:1.45.0]
	at io.grpc.internal.ContextRunnable.run(ContextRunnable.java:37) ~[grpc-core-1.45.0.jar:1.45.0]
	at io.grpc.internal.SerializingExecutor.run(SerializingExecutor.java:133) ~[grpc-core-1.45.0.jar:1.45.0]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136) ~[?:?]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635) ~[?:?]
	at java.lang.Thread.run(Thread.java:833) ~[?:?]
Caused by: java.util.concurrent.ExecutionException: com.eventstore.dbclient.ConnectionShutdownException: The connection is closed
	at java.util.concurrent.CompletableFuture.reportGet(CompletableFuture.java:396) ~[?:?]
	at java.util.concurrent.CompletableFuture.get(CompletableFuture.java:2073) ~[?:?]
	at io.eventdriven.ecommerce.core.subscriptions.EventStoreDBSubscriptionCheckpointRepository.store(EventStoreDBSubscriptionCheckpointRepository.java:61) ~[main/:?]
	... 12 more
Caused by: com.eventstore.dbclient.ConnectionShutdownException: The connection is closed
	at com.eventstore.dbclient.GrpcClient.handleMsg(GrpcClient.java:230) ~[db-client-java-4.0.0.jar:?]
	at com.eventstore.dbclient.GrpcClient.messageLoop(GrpcClient.java:296) ~[db-client-java-4.0.0.jar:?]
	at java.util.concurrent.CompletableFuture$AsyncRun.run(CompletableFuture.java:1804) ~[?:?]
	... 3 more
2023-01-03 13:29:30,737 INFO i.e.e.a.c.CancelShoppingCartTests [Test worker] Starting CancelShoppingCartTests using Java 17.0.4.1 with PID 12853 (started by oskar in /home/oskar/Repos/EventSourcing.JVM/samples/event-sourcing-esdb-simple)
2023-01-03 13:29:30,745 DEBUG i.e.e.a.c.CancelShoppingCartTests [Test worker] Running with Spring Boot v3.0.1, Spring v6.0.3
2023-01-03 13:29:30,746 INFO i.e.e.a.c.CancelShoppingCartTests [Test worker] No active profile set, falling back to 1 default profile: "default"
2023-01-03 13:29:36,508 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [Test worker] Subscribing to all 'default'
2023-01-03 13:29:36,531 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-0] Checkpoint event - ignoring
2023-01-03 13:29:36,542 INFO i.e.e.a.c.CancelShoppingCartTests [Test worker] Started CancelShoppingCartTests in 6.169 seconds (process running for 7.715)
2023-01-03 13:29:36,636 WARN i.e.e.c.p.JPAProjection [grpc-default-executor-0] View with id e8298097-962e-4c97-bff9-3d8eaebc5b06 was already applied for event io.eventdriven.ecommerce.shoppingcarts.ShoppingCartEvent__ProductItemAddedToShoppingCart
2023-01-03 13:29:36,640 WARN i.e.e.c.p.JPAProjection [grpc-default-executor-0] View with id e8298097-962e-4c97-bff9-3d8eaebc5b06 was already applied for event io.eventdriven.ecommerce.shoppingcarts.ShoppingCartEvent__ProductItemAddedToShoppingCart
2023-01-03 13:29:36,704 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-0] Checkpoint event - ignoring
2023-01-03 13:29:36,793 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-0] Checkpoint event - ignoring
2023-01-03 13:29:36,838 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-0] Checkpoint event - ignoring
2023-01-03 13:29:36,919 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-2] Checkpoint event - ignoring
2023-01-03 13:29:36,961 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-0] Checkpoint event - ignoring
2023-01-03 13:29:37,000 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-2] Checkpoint event - ignoring
2023-01-03 13:29:37,042 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-0] Checkpoint event - ignoring
2023-01-03 13:29:37,090 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-1] Checkpoint event - ignoring
2023-01-03 13:29:37,091 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-1] Checkpoint event - ignoring
2023-01-03 13:29:37,092 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-1] Checkpoint event - ignoring
2023-01-03 13:29:37,093 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-1] Checkpoint event - ignoring
2023-01-03 13:29:37,094 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-1] Checkpoint event - ignoring
2023-01-03 13:29:37,095 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-1] Checkpoint event - ignoring
2023-01-03 13:29:37,096 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-1] Checkpoint event - ignoring
2023-01-03 13:29:37,124 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-1] Checkpoint event - ignoring
2023-01-03 13:29:37,125 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-1] Checkpoint event - ignoring
2023-01-03 13:29:37,171 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-1] Checkpoint event - ignoring
2023-01-03 13:29:37,222 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-1] Checkpoint event - ignoring
2023-01-03 13:29:37,223 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-1] Checkpoint event - ignoring
2023-01-03 13:29:37,258 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-0] Checkpoint event - ignoring
2023-01-03 13:29:37,334 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-0] Checkpoint event - ignoring
2023-01-03 13:29:37,376 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-0] Checkpoint event - ignoring
2023-01-03 13:29:37,377 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-0] Checkpoint event - ignoring
2023-01-03 13:29:37,414 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-0] Checkpoint event - ignoring
2023-01-03 13:29:37,453 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-1] Checkpoint event - ignoring
2023-01-03 13:29:37,498 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-1] Checkpoint event - ignoring
2023-01-03 13:29:37,500 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-1] Checkpoint event - ignoring
2023-01-03 13:29:37,538 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-1] Checkpoint event - ignoring
2023-01-03 13:29:37,609 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-1] Checkpoint event - ignoring
2023-01-03 13:29:37,644 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-1] Checkpoint event - ignoring
2023-01-03 13:29:37,682 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-1] Checkpoint event - ignoring
2023-01-03 13:29:37,683 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-1] Checkpoint event - ignoring
2023-01-03 13:29:37,722 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-1] Checkpoint event - ignoring
2023-01-03 13:29:37,754 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-1] Checkpoint event - ignoring
2023-01-03 13:29:37,755 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-1] Checkpoint event - ignoring
2023-01-03 13:29:37,839 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-1] Checkpoint event - ignoring
2023-01-03 13:29:37,880 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-1] Checkpoint event - ignoring
2023-01-03 13:29:37,880 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-1] Checkpoint event - ignoring
2023-01-03 13:29:37,961 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-1] Checkpoint event - ignoring
2023-01-03 13:29:38,002 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-1] Checkpoint event - ignoring
2023-01-03 13:29:38,040 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-1] Checkpoint event - ignoring
2023-01-03 13:29:38,073 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-1] Checkpoint event - ignoring
2023-01-03 13:29:38,074 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-1] Checkpoint event - ignoring
2023-01-03 13:29:38,150 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-1] Checkpoint event - ignoring
2023-01-03 13:29:38,199 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-2] Checkpoint event - ignoring
2023-01-03 13:29:38,247 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-2] Checkpoint event - ignoring
2023-01-03 13:29:38,281 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-2] Checkpoint event - ignoring
2023-01-03 13:29:38,282 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-2] Checkpoint event - ignoring
2023-01-03 13:29:38,387 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-2] Checkpoint event - ignoring
2023-01-03 13:29:38,420 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-1] Checkpoint event - ignoring
2023-01-03 13:29:38,457 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-1] Checkpoint event - ignoring
2023-01-03 13:29:38,492 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-1] Checkpoint event - ignoring
2023-01-03 13:29:38,533 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-1] Checkpoint event - ignoring
2023-01-03 13:29:38,533 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-1] Checkpoint event - ignoring
2023-01-03 13:29:38,639 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-1] Checkpoint event - ignoring
2023-01-03 13:29:38,671 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-1] Checkpoint event - ignoring
2023-01-03 13:29:38,714 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-1] Checkpoint event - ignoring
2023-01-03 13:29:38,744 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-2] Checkpoint event - ignoring
2023-01-03 13:29:38,792 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-1] Checkpoint event - ignoring
2023-01-03 13:29:38,821 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-1] Checkpoint event - ignoring
2023-01-03 13:29:38,867 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-1] Checkpoint event - ignoring
2023-01-03 13:29:38,901 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-1] Checkpoint event - ignoring
2023-01-03 13:29:38,942 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-1] Checkpoint event - ignoring
2023-01-03 13:29:38,974 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-2] Checkpoint event - ignoring
2023-01-03 13:29:39,029 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-1] Checkpoint event - ignoring
2023-01-03 13:29:39,069 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-2] Checkpoint event - ignoring
2023-01-03 13:29:39,116 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-1] Checkpoint event - ignoring
2023-01-03 13:29:39,202 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-1] Checkpoint event - ignoring
2023-01-03 13:29:39,243 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-1] Checkpoint event - ignoring
2023-01-03 13:29:39,284 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-2] Checkpoint event - ignoring
2023-01-03 13:29:39,322 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-2] Checkpoint event - ignoring
2023-01-03 13:29:39,372 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-2] Checkpoint event - ignoring
2023-01-03 13:29:39,407 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-1] Checkpoint event - ignoring
2023-01-03 13:29:39,438 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-1] Checkpoint event - ignoring
2023-01-03 13:29:39,473 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-1] Checkpoint event - ignoring
2023-01-03 13:29:39,514 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-1] Checkpoint event - ignoring
2023-01-03 13:29:39,514 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-1] Checkpoint event - ignoring
2023-01-03 13:29:39,541 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-1] Checkpoint event - ignoring
2023-01-03 13:29:39,578 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-1] Checkpoint event - ignoring
2023-01-03 13:29:39,615 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-2] Checkpoint event - ignoring
2023-01-03 13:29:39,661 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-2] Checkpoint event - ignoring
2023-01-03 13:29:39,732 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-1] Checkpoint event - ignoring
2023-01-03 13:29:39,765 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-0] Checkpoint event - ignoring
2023-01-03 13:29:39,798 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-1] Checkpoint event - ignoring
2023-01-03 13:29:39,831 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-1] Checkpoint event - ignoring
2023-01-03 13:29:39,833 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-1] Checkpoint event - ignoring
2023-01-03 13:29:39,836 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-1] Checkpoint event - ignoring
2023-01-03 13:29:39,867 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-0] Checkpoint event - ignoring
2023-01-03 13:29:39,907 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-0] Checkpoint event - ignoring
2023-01-03 13:29:39,955 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-1] Checkpoint event - ignoring
2023-01-03 13:29:39,984 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-0] Checkpoint event - ignoring
2023-01-03 13:29:40,041 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-0] Checkpoint event - ignoring
2023-01-03 13:29:45,061 ERROR i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-0] Subscription was dropped
io.grpc.StatusRuntimeException: UNAVAILABLE: Channel shutdownNow invoked
	at io.grpc.Status.asRuntimeException(Status.java:535) ~[grpc-api-1.45.0.jar:1.45.0]
	at io.grpc.stub.ClientCalls$StreamObserverToCallListenerAdapter.onClose(ClientCalls.java:478) ~[grpc-stub-1.45.0.jar:1.45.0]
	at io.grpc.internal.ClientCallImpl.closeObserver(ClientCallImpl.java:562) ~[grpc-core-1.45.0.jar:1.45.0]
	at io.grpc.internal.ClientCallImpl.access$300(ClientCallImpl.java:70) ~[grpc-core-1.45.0.jar:1.45.0]
	at io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInternal(ClientCallImpl.java:743) ~[grpc-core-1.45.0.jar:1.45.0]
	at io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInContext(ClientCallImpl.java:722) ~[grpc-core-1.45.0.jar:1.45.0]
	at io.grpc.internal.ContextRunnable.run(ContextRunnable.java:37) ~[grpc-core-1.45.0.jar:1.45.0]
	at io.grpc.internal.SerializingExecutor.run(SerializingExecutor.java:133) ~[grpc-core-1.45.0.jar:1.45.0]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136) ~[?:?]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635) ~[?:?]
	at java.lang.Thread.run(Thread.java:833) ~[?:?]
2023-01-03 13:30:58,155 INFO i.e.e.a.c.ConfirmShoppingCartTests [Test worker] Starting ConfirmShoppingCartTests using Java 17.0.4.1 with PID 13269 (started by oskar in /home/oskar/Repos/EventSourcing.JVM/samples/event-sourcing-esdb-simple)
2023-01-03 13:30:58,164 DEBUG i.e.e.a.c.ConfirmShoppingCartTests [Test worker] Running with Spring Boot v3.0.1, Spring v6.0.3
2023-01-03 13:30:58,165 INFO i.e.e.a.c.ConfirmShoppingCartTests [Test worker] No active profile set, falling back to 1 default profile: "default"
2023-01-03 13:31:03,356 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [Test worker] Subscribing to all 'default'
2023-01-03 13:31:03,378 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-0] Checkpoint event - ignoring
2023-01-03 13:31:03,392 INFO i.e.e.a.c.ConfirmShoppingCartTests [Test worker] Started ConfirmShoppingCartTests in 5.574 seconds (process running for 7.028)
2023-01-03 13:31:04,120 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-0] Checkpoint event - ignoring
2023-01-03 13:31:04,158 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-2] Checkpoint event - ignoring
2023-01-03 13:31:04,225 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-0] Checkpoint event - ignoring
2023-01-03 13:31:04,256 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-0] Checkpoint event - ignoring
2023-01-03 13:31:04,333 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-0] Checkpoint event - ignoring
2023-01-03 13:31:04,334 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-0] Checkpoint event - ignoring
2023-01-03 13:31:04,374 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-2] Checkpoint event - ignoring
2023-01-03 13:31:04,417 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-2] Checkpoint event - ignoring
2023-01-03 13:31:04,449 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-1] Checkpoint event - ignoring
2023-01-03 13:31:04,480 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-2] Checkpoint event - ignoring
2023-01-03 13:31:04,512 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-2] Checkpoint event - ignoring
2023-01-03 13:31:04,565 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-1] Checkpoint event - ignoring
2023-01-03 13:31:04,601 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-2] Checkpoint event - ignoring
2023-01-03 13:31:04,632 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-2] Checkpoint event - ignoring
2023-01-03 13:31:04,693 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-2] Checkpoint event - ignoring
2023-01-03 13:31:04,694 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-2] Checkpoint event - ignoring
2023-01-03 13:31:04,729 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-1] Checkpoint event - ignoring
2023-01-03 13:31:04,771 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-1] Checkpoint event - ignoring
2023-01-03 13:31:04,851 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-1] Checkpoint event - ignoring
2023-01-03 13:31:04,853 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-1] Checkpoint event - ignoring
2023-01-03 13:31:04,925 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-1] Checkpoint event - ignoring
2023-01-03 13:31:04,927 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-1] Checkpoint event - ignoring
2023-01-03 13:31:04,956 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-1] Checkpoint event - ignoring
2023-01-03 13:31:05,004 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-2] Checkpoint event - ignoring
2023-01-03 13:31:05,036 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-2] Checkpoint event - ignoring
2023-01-03 13:31:05,099 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-2] Checkpoint event - ignoring
2023-01-03 13:31:05,129 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-1] Checkpoint event - ignoring
2023-01-03 13:31:05,189 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-0] Checkpoint event - ignoring
2023-01-03 13:31:05,231 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-0] Checkpoint event - ignoring
2023-01-03 13:31:05,287 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-0] Checkpoint event - ignoring
2023-01-03 13:31:05,321 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-0] Checkpoint event - ignoring
2023-01-03 13:31:05,374 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-0] Checkpoint event - ignoring
2023-01-03 13:31:05,414 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-1] Checkpoint event - ignoring
2023-01-03 13:31:05,482 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-1] Checkpoint event - ignoring
2023-01-03 13:31:05,665 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-0] Checkpoint event - ignoring
2023-01-03 13:31:05,716 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-1] Checkpoint event - ignoring
2023-01-03 13:31:05,778 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-1] Checkpoint event - ignoring
2023-01-03 13:31:05,871 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-0] Checkpoint event - ignoring
2023-01-03 13:31:05,917 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-0] Checkpoint event - ignoring
2023-01-03 13:31:05,952 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-0] Checkpoint event - ignoring
2023-01-03 13:31:05,997 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-0] Checkpoint event - ignoring
2023-01-03 13:31:06,054 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-0] Checkpoint event - ignoring
2023-01-03 13:31:06,137 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-0] Checkpoint event - ignoring
2023-01-03 13:31:06,218 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-1] Checkpoint event - ignoring
2023-01-03 13:31:06,269 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-1] Checkpoint event - ignoring
2023-01-03 13:31:06,299 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-1] Checkpoint event - ignoring
2023-01-03 13:31:06,344 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-1] Checkpoint event - ignoring
2023-01-03 13:31:06,427 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-0] Checkpoint event - ignoring
2023-01-03 13:31:06,463 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-1] Checkpoint event - ignoring
2023-01-03 13:31:06,507 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-1] Checkpoint event - ignoring
2023-01-03 13:31:06,553 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-1] Checkpoint event - ignoring
2023-01-03 13:31:06,591 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-1] Checkpoint event - ignoring
2023-01-03 13:31:06,592 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-1] Checkpoint event - ignoring
2023-01-03 13:31:06,627 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-0] Checkpoint event - ignoring
2023-01-03 13:31:06,666 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-0] Checkpoint event - ignoring
2023-01-03 13:31:06,706 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-1] Checkpoint event - ignoring
2023-01-03 13:31:06,707 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-1] Checkpoint event - ignoring
2023-01-03 13:31:06,745 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-0] Checkpoint event - ignoring
2023-01-03 13:31:06,783 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-1] Checkpoint event - ignoring
2023-01-03 13:31:06,859 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-1] Checkpoint event - ignoring
2023-01-03 13:31:06,860 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-1] Checkpoint event - ignoring
2023-01-03 13:31:06,902 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-1] Checkpoint event - ignoring
2023-01-03 13:31:06,934 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-0] Checkpoint event - ignoring
2023-01-03 13:31:07,009 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-1] Checkpoint event - ignoring
2023-01-03 13:31:07,009 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-1] Checkpoint event - ignoring
2023-01-03 13:31:07,043 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-0] Checkpoint event - ignoring
2023-01-03 13:31:07,081 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-0] Checkpoint event - ignoring
2023-01-03 13:31:07,122 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-0] Checkpoint event - ignoring
2023-01-03 13:31:07,171 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-2] Checkpoint event - ignoring
2023-01-03 13:31:07,207 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-2] Checkpoint event - ignoring
2023-01-03 13:31:07,283 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-0] Checkpoint event - ignoring
2023-01-03 13:31:12,304 ERROR i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-0] Error while handling event
java.lang.RuntimeException: java.util.concurrent.ExecutionException: com.eventstore.dbclient.ConnectionShutdownException: The connection is closed
	at io.eventdriven.ecommerce.core.subscriptions.EventStoreDBSubscriptionCheckpointRepository.store(EventStoreDBSubscriptionCheckpointRepository.java:64) ~[main/:?]
	at io.eventdriven.ecommerce.core.subscriptions.EventStoreDBSubscriptionToAll.handleEvent(EventStoreDBSubscriptionToAll.java:127) ~[main/:?]
	at io.eventdriven.ecommerce.core.subscriptions.EventStoreDBSubscriptionToAll$1.onEvent(EventStoreDBSubscriptionToAll.java:29) ~[main/:?]
	at com.eventstore.dbclient.AbstractRegularSubscription$1.onNext(AbstractRegularSubscription.java:95) ~[db-client-java-4.0.0.jar:?]
	at com.eventstore.dbclient.AbstractRegularSubscription$1.onNext(AbstractRegularSubscription.java:50) ~[db-client-java-4.0.0.jar:?]
	at io.grpc.stub.ClientCalls$StreamObserverToCallListenerAdapter.onMessage(ClientCalls.java:465) ~[grpc-stub-1.45.0.jar:1.45.0]
	at io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1MessagesAvailable.runInternal(ClientCallImpl.java:661) ~[grpc-core-1.45.0.jar:1.45.0]
	at io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1MessagesAvailable.runInContext(ClientCallImpl.java:646) ~[grpc-core-1.45.0.jar:1.45.0]
	at io.grpc.internal.ContextRunnable.run(ContextRunnable.java:37) ~[grpc-core-1.45.0.jar:1.45.0]
	at io.grpc.internal.SerializingExecutor.run(SerializingExecutor.java:133) ~[grpc-core-1.45.0.jar:1.45.0]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136) ~[?:?]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635) ~[?:?]
	at java.lang.Thread.run(Thread.java:833) ~[?:?]
Caused by: java.util.concurrent.ExecutionException: com.eventstore.dbclient.ConnectionShutdownException: The connection is closed
	at java.util.concurrent.CompletableFuture.reportGet(CompletableFuture.java:396) ~[?:?]
	at java.util.concurrent.CompletableFuture.get(CompletableFuture.java:2073) ~[?:?]
	at io.eventdriven.ecommerce.core.subscriptions.EventStoreDBSubscriptionCheckpointRepository.store(EventStoreDBSubscriptionCheckpointRepository.java:61) ~[main/:?]
	... 12 more
Caused by: com.eventstore.dbclient.ConnectionShutdownException: The connection is closed
	at com.eventstore.dbclient.GrpcClient.handleMsg(GrpcClient.java:230) ~[db-client-java-4.0.0.jar:?]
	at com.eventstore.dbclient.GrpcClient.messageLoop(GrpcClient.java:296) ~[db-client-java-4.0.0.jar:?]
	at java.util.concurrent.CompletableFuture$AsyncRun.run(CompletableFuture.java:1804) ~[?:?]
	... 3 more
2023-01-03 13:31:51,365 INFO i.e.e.a.c.ConfirmShoppingCartTests [Test worker] Starting ConfirmShoppingCartTests using Java 17.0.4.1 with PID 13682 (started by oskar in /home/oskar/Repos/EventSourcing.JVM/samples/event-sourcing-esdb-simple)
2023-01-03 13:31:51,374 DEBUG i.e.e.a.c.ConfirmShoppingCartTests [Test worker] Running with Spring Boot v3.0.1, Spring v6.0.3
2023-01-03 13:31:51,375 INFO i.e.e.a.c.ConfirmShoppingCartTests [Test worker] No active profile set, falling back to 1 default profile: "default"
2023-01-03 13:31:56,778 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [Test worker] Subscribing to all 'default'
2023-01-03 13:31:56,806 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-0] Checkpoint event - ignoring
2023-01-03 13:31:56,817 INFO i.e.e.a.c.ConfirmShoppingCartTests [Test worker] Started ConfirmShoppingCartTests in 5.787 seconds (process running for 7.257)
2023-01-03 13:31:56,887 WARN i.e.e.c.p.JPAProjection [grpc-default-executor-0] View with id 16cffe26-6e05-49d8-87d4-d64c028cd337 was already applied for event io.eventdriven.ecommerce.shoppingcarts.ShoppingCartEvent__ShoppingCartCanceled
2023-01-03 13:31:56,896 ERROR i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-0] Error while handling event
org.springframework.dao.EmptyResultDataAccessException: No class io.eventdriven.ecommerce.shoppingcarts.gettingcarts.ShoppingCartShortInfo entity with id 16cffe26-6e05-49d8-87d4-d64c028cd337 exists
	at org.springframework.data.jpa.repository.support.SimpleJpaRepository.lambda$deleteById$0(SimpleJpaRepository.java:171) ~[spring-data-jpa-3.0.0.jar:3.0.0]
	at java.util.Optional.orElseThrow(Optional.java:403) ~[?:?]
	at org.springframework.data.jpa.repository.support.SimpleJpaRepository.deleteById(SimpleJpaRepository.java:170) ~[spring-data-jpa-3.0.0.jar:3.0.0]
	at jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[?:?]
	at jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[?:?]
	at jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[?:?]
	at java.lang.reflect.Method.invoke(Method.java:568) ~[?:?]
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker$RepositoryFragmentMethodInvoker.lambda$new$0(RepositoryMethodInvoker.java:288) ~[spring-data-commons-3.0.0.jar:3.0.0]
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:136) ~[spring-data-commons-3.0.0.jar:3.0.0]
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:120) ~[spring-data-commons-3.0.0.jar:3.0.0]
	at org.springframework.data.repository.core.support.RepositoryComposition$RepositoryFragments.invoke(RepositoryComposition.java:516) ~[spring-data-commons-3.0.0.jar:3.0.0]
	at org.springframework.data.repository.core.support.RepositoryComposition.invoke(RepositoryComposition.java:285) ~[spring-data-commons-3.0.0.jar:3.0.0]
	at org.springframework.data.repository.core.support.RepositoryFactorySupport$ImplementationMethodExecutionInterceptor.invoke(RepositoryFactorySupport.java:628) ~[spring-data-commons-3.0.0.jar:3.0.0]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.0.3.jar:6.0.3]
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:168) ~[spring-data-commons-3.0.0.jar:3.0.0]
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:143) ~[spring-data-commons-3.0.0.jar:3.0.0]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.0.3.jar:6.0.3]
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123) ~[spring-tx-6.0.3.jar:6.0.3]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:388) ~[spring-tx-6.0.3.jar:6.0.3]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-6.0.3.jar:6.0.3]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.0.3.jar:6.0.3]
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:137) ~[spring-tx-6.0.3.jar:6.0.3]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.0.3.jar:6.0.3]
	at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:163) ~[spring-data-jpa-3.0.0.jar:3.0.0]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.0.3.jar:6.0.3]
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97) ~[spring-aop-6.0.3.jar:6.0.3]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.0.3.jar:6.0.3]
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:218) ~[spring-aop-6.0.3.jar:6.0.3]
	at jdk.proxy3.$Proxy152.deleteById(Unknown Source) ~[?:?]
	at io.eventdriven.ecommerce.core.projections.JPAProjection.deleteById(JPAProjection.java:57) ~[main/:?]
	at io.eventdriven.ecommerce.shoppingcarts.gettingcarts.ShoppingCartShortInfoProjection.handleShoppingCartCanceled(ShoppingCartShortInfoProjection.java:61) ~[main/:?]
	at jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[?:?]
	at jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[?:?]
	at jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[?:?]
	at java.lang.reflect.Method.invoke(Method.java:568) ~[?:?]
	at org.springframework.context.event.ApplicationListenerMethodAdapter.doInvoke(ApplicationListenerMethodAdapter.java:343) ~[spring-context-6.0.3.jar:6.0.3]
	at org.springframework.context.event.ApplicationListenerMethodAdapter.processEvent(ApplicationListenerMethodAdapter.java:228) ~[spring-context-6.0.3.jar:6.0.3]
	at org.springframework.context.event.ApplicationListenerMethodAdapter.onApplicationEvent(ApplicationListenerMethodAdapter.java:165) ~[spring-context-6.0.3.jar:6.0.3]
	at org.springframework.context.event.SimpleApplicationEventMulticaster.doInvokeListener(SimpleApplicationEventMulticaster.java:176) ~[spring-context-6.0.3.jar:6.0.3]
	at org.springframework.context.event.SimpleApplicationEventMulticaster.invokeListener(SimpleApplicationEventMulticaster.java:169) ~[spring-context-6.0.3.jar:6.0.3]
	at org.springframework.context.event.SimpleApplicationEventMulticaster.multicastEvent(SimpleApplicationEventMulticaster.java:143) ~[spring-context-6.0.3.jar:6.0.3]
	at org.springframework.context.support.AbstractApplicationContext.publishEvent(AbstractApplicationContext.java:413) ~[spring-context-6.0.3.jar:6.0.3]
	at org.springframework.context.support.AbstractApplicationContext.publishEvent(AbstractApplicationContext.java:383) ~[spring-context-6.0.3.jar:6.0.3]
	at io.eventdriven.ecommerce.core.events.EventForwarder.publish(EventForwarder.java:11) ~[main/:?]
	at io.eventdriven.ecommerce.core.subscriptions.EventStoreDBSubscriptionToAll.handleEvent(EventStoreDBSubscriptionToAll.java:125) ~[main/:?]
	at io.eventdriven.ecommerce.core.subscriptions.EventStoreDBSubscriptionToAll$1.onEvent(EventStoreDBSubscriptionToAll.java:29) ~[main/:?]
	at com.eventstore.dbclient.AbstractRegularSubscription$1.onNext(AbstractRegularSubscription.java:95) ~[db-client-java-4.0.0.jar:?]
	at com.eventstore.dbclient.AbstractRegularSubscription$1.onNext(AbstractRegularSubscription.java:50) ~[db-client-java-4.0.0.jar:?]
	at io.grpc.stub.ClientCalls$StreamObserverToCallListenerAdapter.onMessage(ClientCalls.java:465) ~[grpc-stub-1.45.0.jar:1.45.0]
	at io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1MessagesAvailable.runInternal(ClientCallImpl.java:661) ~[grpc-core-1.45.0.jar:1.45.0]
	at io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1MessagesAvailable.runInContext(ClientCallImpl.java:646) ~[grpc-core-1.45.0.jar:1.45.0]
	at io.grpc.internal.ContextRunnable.run(ContextRunnable.java:37) ~[grpc-core-1.45.0.jar:1.45.0]
	at io.grpc.internal.SerializingExecutor.run(SerializingExecutor.java:133) ~[grpc-core-1.45.0.jar:1.45.0]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136) ~[?:?]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635) ~[?:?]
	at java.lang.Thread.run(Thread.java:833) ~[?:?]
2023-01-03 13:32:11,356 INFO i.e.e.a.c.ConfirmShoppingCartTests [Test worker] Starting ConfirmShoppingCartTests using Java 17.0.4.1 with PID 14083 (started by oskar in /home/oskar/Repos/EventSourcing.JVM/samples/event-sourcing-esdb-simple)
2023-01-03 13:32:11,364 DEBUG i.e.e.a.c.ConfirmShoppingCartTests [Test worker] Running with Spring Boot v3.0.1, Spring v6.0.3
2023-01-03 13:32:11,366 INFO i.e.e.a.c.ConfirmShoppingCartTests [Test worker] No active profile set, falling back to 1 default profile: "default"
2023-01-03 13:32:16,815 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [Test worker] Subscribing to all 'default'
2023-01-03 13:32:16,846 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-0] Checkpoint event - ignoring
2023-01-03 13:32:16,857 INFO i.e.e.a.c.ConfirmShoppingCartTests [Test worker] Started ConfirmShoppingCartTests in 5.858 seconds (process running for 7.34)
2023-01-03 13:32:16,936 WARN i.e.e.c.p.JPAProjection [grpc-default-executor-0] View with id 16cffe26-6e05-49d8-87d4-d64c028cd337 was already applied for event io.eventdriven.ecommerce.shoppingcarts.ShoppingCartEvent__ShoppingCartCanceled
2023-01-03 13:32:16,945 ERROR i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-0] Error while handling event
org.springframework.dao.EmptyResultDataAccessException: No class io.eventdriven.ecommerce.shoppingcarts.gettingcarts.ShoppingCartShortInfo entity with id 16cffe26-6e05-49d8-87d4-d64c028cd337 exists
	at org.springframework.data.jpa.repository.support.SimpleJpaRepository.lambda$deleteById$0(SimpleJpaRepository.java:171) ~[spring-data-jpa-3.0.0.jar:3.0.0]
	at java.util.Optional.orElseThrow(Optional.java:403) ~[?:?]
	at org.springframework.data.jpa.repository.support.SimpleJpaRepository.deleteById(SimpleJpaRepository.java:170) ~[spring-data-jpa-3.0.0.jar:3.0.0]
	at jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[?:?]
	at jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[?:?]
	at jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[?:?]
	at java.lang.reflect.Method.invoke(Method.java:568) ~[?:?]
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker$RepositoryFragmentMethodInvoker.lambda$new$0(RepositoryMethodInvoker.java:288) ~[spring-data-commons-3.0.0.jar:3.0.0]
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:136) ~[spring-data-commons-3.0.0.jar:3.0.0]
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:120) ~[spring-data-commons-3.0.0.jar:3.0.0]
	at org.springframework.data.repository.core.support.RepositoryComposition$RepositoryFragments.invoke(RepositoryComposition.java:516) ~[spring-data-commons-3.0.0.jar:3.0.0]
	at org.springframework.data.repository.core.support.RepositoryComposition.invoke(RepositoryComposition.java:285) ~[spring-data-commons-3.0.0.jar:3.0.0]
	at org.springframework.data.repository.core.support.RepositoryFactorySupport$ImplementationMethodExecutionInterceptor.invoke(RepositoryFactorySupport.java:628) ~[spring-data-commons-3.0.0.jar:3.0.0]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.0.3.jar:6.0.3]
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:168) ~[spring-data-commons-3.0.0.jar:3.0.0]
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:143) ~[spring-data-commons-3.0.0.jar:3.0.0]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.0.3.jar:6.0.3]
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123) ~[spring-tx-6.0.3.jar:6.0.3]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:388) ~[spring-tx-6.0.3.jar:6.0.3]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-6.0.3.jar:6.0.3]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.0.3.jar:6.0.3]
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:137) ~[spring-tx-6.0.3.jar:6.0.3]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.0.3.jar:6.0.3]
	at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:163) ~[spring-data-jpa-3.0.0.jar:3.0.0]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.0.3.jar:6.0.3]
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97) ~[spring-aop-6.0.3.jar:6.0.3]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.0.3.jar:6.0.3]
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:218) ~[spring-aop-6.0.3.jar:6.0.3]
	at jdk.proxy3.$Proxy154.deleteById(Unknown Source) ~[?:?]
	at io.eventdriven.ecommerce.core.projections.JPAProjection.deleteById(JPAProjection.java:57) ~[main/:?]
	at io.eventdriven.ecommerce.shoppingcarts.gettingcarts.ShoppingCartShortInfoProjection.handleShoppingCartCanceled(ShoppingCartShortInfoProjection.java:61) ~[main/:?]
	at jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[?:?]
	at jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[?:?]
	at jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[?:?]
	at java.lang.reflect.Method.invoke(Method.java:568) ~[?:?]
	at org.springframework.context.event.ApplicationListenerMethodAdapter.doInvoke(ApplicationListenerMethodAdapter.java:343) ~[spring-context-6.0.3.jar:6.0.3]
	at org.springframework.context.event.ApplicationListenerMethodAdapter.processEvent(ApplicationListenerMethodAdapter.java:228) ~[spring-context-6.0.3.jar:6.0.3]
	at org.springframework.context.event.ApplicationListenerMethodAdapter.onApplicationEvent(ApplicationListenerMethodAdapter.java:165) ~[spring-context-6.0.3.jar:6.0.3]
	at org.springframework.context.event.SimpleApplicationEventMulticaster.doInvokeListener(SimpleApplicationEventMulticaster.java:176) ~[spring-context-6.0.3.jar:6.0.3]
	at org.springframework.context.event.SimpleApplicationEventMulticaster.invokeListener(SimpleApplicationEventMulticaster.java:169) ~[spring-context-6.0.3.jar:6.0.3]
	at org.springframework.context.event.SimpleApplicationEventMulticaster.multicastEvent(SimpleApplicationEventMulticaster.java:143) ~[spring-context-6.0.3.jar:6.0.3]
	at org.springframework.context.support.AbstractApplicationContext.publishEvent(AbstractApplicationContext.java:413) ~[spring-context-6.0.3.jar:6.0.3]
	at org.springframework.context.support.AbstractApplicationContext.publishEvent(AbstractApplicationContext.java:383) ~[spring-context-6.0.3.jar:6.0.3]
	at io.eventdriven.ecommerce.core.events.EventForwarder.publish(EventForwarder.java:11) ~[main/:?]
	at io.eventdriven.ecommerce.core.subscriptions.EventStoreDBSubscriptionToAll.handleEvent(EventStoreDBSubscriptionToAll.java:125) ~[main/:?]
	at io.eventdriven.ecommerce.core.subscriptions.EventStoreDBSubscriptionToAll$1.onEvent(EventStoreDBSubscriptionToAll.java:29) ~[main/:?]
	at com.eventstore.dbclient.AbstractRegularSubscription$1.onNext(AbstractRegularSubscription.java:95) ~[db-client-java-4.0.0.jar:?]
	at com.eventstore.dbclient.AbstractRegularSubscription$1.onNext(AbstractRegularSubscription.java:50) ~[db-client-java-4.0.0.jar:?]
	at io.grpc.stub.ClientCalls$StreamObserverToCallListenerAdapter.onMessage(ClientCalls.java:465) ~[grpc-stub-1.45.0.jar:1.45.0]
	at io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1MessagesAvailable.runInternal(ClientCallImpl.java:661) ~[grpc-core-1.45.0.jar:1.45.0]
	at io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1MessagesAvailable.runInContext(ClientCallImpl.java:646) ~[grpc-core-1.45.0.jar:1.45.0]
	at io.grpc.internal.ContextRunnable.run(ContextRunnable.java:37) ~[grpc-core-1.45.0.jar:1.45.0]
	at io.grpc.internal.SerializingExecutor.run(SerializingExecutor.java:133) ~[grpc-core-1.45.0.jar:1.45.0]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136) ~[?:?]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635) ~[?:?]
	at java.lang.Thread.run(Thread.java:833) ~[?:?]
2023-01-03 13:41:42,286 INFO i.e.e.a.c.RemoveProductItemFromShoppingCartTests [Test worker] Starting RemoveProductItemFromShoppingCartTests using Java 17.0.4.1 with PID 14542 (started by oskar in /home/oskar/Repos/EventSourcing.JVM/samples/event-sourcing-esdb-simple)
2023-01-03 13:41:42,298 DEBUG i.e.e.a.c.RemoveProductItemFromShoppingCartTests [Test worker] Running with Spring Boot v3.0.1, Spring v6.0.3
2023-01-03 13:41:42,300 INFO i.e.e.a.c.RemoveProductItemFromShoppingCartTests [Test worker] No active profile set, falling back to 1 default profile: "default"
2023-01-03 13:41:47,759 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [Test worker] Subscribing to all 'default'
2023-01-03 13:41:47,783 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-0] Checkpoint event - ignoring
2023-01-03 13:41:47,796 INFO i.e.e.a.c.RemoveProductItemFromShoppingCartTests [Test worker] Started RemoveProductItemFromShoppingCartTests in 5.829 seconds (process running for 7.214)
2023-01-03 13:41:47,902 WARN i.e.e.c.p.JPAProjection [grpc-default-executor-0] View with id 16cffe26-6e05-49d8-87d4-d64c028cd337 was already applied for event io.eventdriven.ecommerce.shoppingcarts.ShoppingCartEvent__ShoppingCartCanceled
2023-01-03 13:41:47,912 ERROR i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-0] Error while handling event
org.springframework.dao.EmptyResultDataAccessException: No class io.eventdriven.ecommerce.shoppingcarts.gettingcarts.ShoppingCartShortInfo entity with id 16cffe26-6e05-49d8-87d4-d64c028cd337 exists
	at org.springframework.data.jpa.repository.support.SimpleJpaRepository.lambda$deleteById$0(SimpleJpaRepository.java:171) ~[spring-data-jpa-3.0.0.jar:3.0.0]
	at java.util.Optional.orElseThrow(Optional.java:403) ~[?:?]
	at org.springframework.data.jpa.repository.support.SimpleJpaRepository.deleteById(SimpleJpaRepository.java:170) ~[spring-data-jpa-3.0.0.jar:3.0.0]
	at jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[?:?]
	at jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[?:?]
	at jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[?:?]
	at java.lang.reflect.Method.invoke(Method.java:568) ~[?:?]
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker$RepositoryFragmentMethodInvoker.lambda$new$0(RepositoryMethodInvoker.java:288) ~[spring-data-commons-3.0.0.jar:3.0.0]
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:136) ~[spring-data-commons-3.0.0.jar:3.0.0]
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:120) ~[spring-data-commons-3.0.0.jar:3.0.0]
	at org.springframework.data.repository.core.support.RepositoryComposition$RepositoryFragments.invoke(RepositoryComposition.java:516) ~[spring-data-commons-3.0.0.jar:3.0.0]
	at org.springframework.data.repository.core.support.RepositoryComposition.invoke(RepositoryComposition.java:285) ~[spring-data-commons-3.0.0.jar:3.0.0]
	at org.springframework.data.repository.core.support.RepositoryFactorySupport$ImplementationMethodExecutionInterceptor.invoke(RepositoryFactorySupport.java:628) ~[spring-data-commons-3.0.0.jar:3.0.0]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.0.3.jar:6.0.3]
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:168) ~[spring-data-commons-3.0.0.jar:3.0.0]
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:143) ~[spring-data-commons-3.0.0.jar:3.0.0]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.0.3.jar:6.0.3]
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123) ~[spring-tx-6.0.3.jar:6.0.3]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:388) ~[spring-tx-6.0.3.jar:6.0.3]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-6.0.3.jar:6.0.3]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.0.3.jar:6.0.3]
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:137) ~[spring-tx-6.0.3.jar:6.0.3]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.0.3.jar:6.0.3]
	at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:163) ~[spring-data-jpa-3.0.0.jar:3.0.0]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.0.3.jar:6.0.3]
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97) ~[spring-aop-6.0.3.jar:6.0.3]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.0.3.jar:6.0.3]
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:218) ~[spring-aop-6.0.3.jar:6.0.3]
	at jdk.proxy3.$Proxy154.deleteById(Unknown Source) ~[?:?]
	at io.eventdriven.ecommerce.core.projections.JPAProjection.deleteById(JPAProjection.java:57) ~[main/:?]
	at io.eventdriven.ecommerce.shoppingcarts.gettingcarts.ShoppingCartShortInfoProjection.handleShoppingCartCanceled(ShoppingCartShortInfoProjection.java:61) ~[main/:?]
	at jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[?:?]
	at jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[?:?]
	at jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[?:?]
	at java.lang.reflect.Method.invoke(Method.java:568) ~[?:?]
	at org.springframework.context.event.ApplicationListenerMethodAdapter.doInvoke(ApplicationListenerMethodAdapter.java:343) ~[spring-context-6.0.3.jar:6.0.3]
	at org.springframework.context.event.ApplicationListenerMethodAdapter.processEvent(ApplicationListenerMethodAdapter.java:228) ~[spring-context-6.0.3.jar:6.0.3]
	at org.springframework.context.event.ApplicationListenerMethodAdapter.onApplicationEvent(ApplicationListenerMethodAdapter.java:165) ~[spring-context-6.0.3.jar:6.0.3]
	at org.springframework.context.event.SimpleApplicationEventMulticaster.doInvokeListener(SimpleApplicationEventMulticaster.java:176) ~[spring-context-6.0.3.jar:6.0.3]
	at org.springframework.context.event.SimpleApplicationEventMulticaster.invokeListener(SimpleApplicationEventMulticaster.java:169) ~[spring-context-6.0.3.jar:6.0.3]
	at org.springframework.context.event.SimpleApplicationEventMulticaster.multicastEvent(SimpleApplicationEventMulticaster.java:143) ~[spring-context-6.0.3.jar:6.0.3]
	at org.springframework.context.support.AbstractApplicationContext.publishEvent(AbstractApplicationContext.java:413) ~[spring-context-6.0.3.jar:6.0.3]
	at org.springframework.context.support.AbstractApplicationContext.publishEvent(AbstractApplicationContext.java:383) ~[spring-context-6.0.3.jar:6.0.3]
	at io.eventdriven.ecommerce.core.events.EventForwarder.publish(EventForwarder.java:11) ~[main/:?]
	at io.eventdriven.ecommerce.core.subscriptions.EventStoreDBSubscriptionToAll.handleEvent(EventStoreDBSubscriptionToAll.java:125) ~[main/:?]
	at io.eventdriven.ecommerce.core.subscriptions.EventStoreDBSubscriptionToAll$1.onEvent(EventStoreDBSubscriptionToAll.java:29) ~[main/:?]
	at com.eventstore.dbclient.AbstractRegularSubscription$1.onNext(AbstractRegularSubscription.java:95) ~[db-client-java-4.0.0.jar:?]
	at com.eventstore.dbclient.AbstractRegularSubscription$1.onNext(AbstractRegularSubscription.java:50) ~[db-client-java-4.0.0.jar:?]
	at io.grpc.stub.ClientCalls$StreamObserverToCallListenerAdapter.onMessage(ClientCalls.java:465) ~[grpc-stub-1.45.0.jar:1.45.0]
	at io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1MessagesAvailable.runInternal(ClientCallImpl.java:661) ~[grpc-core-1.45.0.jar:1.45.0]
	at io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1MessagesAvailable.runInContext(ClientCallImpl.java:646) ~[grpc-core-1.45.0.jar:1.45.0]
	at io.grpc.internal.ContextRunnable.run(ContextRunnable.java:37) ~[grpc-core-1.45.0.jar:1.45.0]
	at io.grpc.internal.SerializingExecutor.run(SerializingExecutor.java:133) ~[grpc-core-1.45.0.jar:1.45.0]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136) ~[?:?]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635) ~[?:?]
	at java.lang.Thread.run(Thread.java:833) ~[?:?]
2023-01-03 16:23:17,466 INFO i.e.e.a.c.RemoveProductItemFromShoppingCartTests [Test worker] Starting RemoveProductItemFromShoppingCartTests using Java 17.0.4.1 with PID 15470 (started by oskar in /home/oskar/Repos/EventSourcing.JVM/samples/event-sourcing-esdb-simple)
2023-01-03 16:23:17,478 DEBUG i.e.e.a.c.RemoveProductItemFromShoppingCartTests [Test worker] Running with Spring Boot v3.0.1, Spring v6.0.3
2023-01-03 16:23:17,479 INFO i.e.e.a.c.RemoveProductItemFromShoppingCartTests [Test worker] No active profile set, falling back to 1 default profile: "default"
2023-01-03 16:23:24,436 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [Test worker] Subscribing to all 'default'
2023-01-03 16:23:24,461 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-0] Checkpoint event - ignoring
2023-01-03 16:23:24,472 INFO i.e.e.a.c.RemoveProductItemFromShoppingCartTests [Test worker] Started RemoveProductItemFromShoppingCartTests in 7.424 seconds (process running for 9.693)
2023-01-03 16:23:24,600 WARN i.e.e.c.p.JPAProjection [grpc-default-executor-0] View with id 16cffe26-6e05-49d8-87d4-d64c028cd337 was already applied for event io.eventdriven.ecommerce.shoppingcarts.ShoppingCartEvent__ShoppingCartCanceled
2023-01-03 16:23:24,611 ERROR i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-0] Error while handling event
org.springframework.dao.EmptyResultDataAccessException: No class io.eventdriven.ecommerce.shoppingcarts.gettingcarts.ShoppingCartShortInfo entity with id 16cffe26-6e05-49d8-87d4-d64c028cd337 exists
	at org.springframework.data.jpa.repository.support.SimpleJpaRepository.lambda$deleteById$0(SimpleJpaRepository.java:171) ~[spring-data-jpa-3.0.0.jar:3.0.0]
	at java.util.Optional.orElseThrow(Optional.java:403) ~[?:?]
	at org.springframework.data.jpa.repository.support.SimpleJpaRepository.deleteById(SimpleJpaRepository.java:170) ~[spring-data-jpa-3.0.0.jar:3.0.0]
	at jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[?:?]
	at jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[?:?]
	at jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[?:?]
	at java.lang.reflect.Method.invoke(Method.java:568) ~[?:?]
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker$RepositoryFragmentMethodInvoker.lambda$new$0(RepositoryMethodInvoker.java:288) ~[spring-data-commons-3.0.0.jar:3.0.0]
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:136) ~[spring-data-commons-3.0.0.jar:3.0.0]
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:120) ~[spring-data-commons-3.0.0.jar:3.0.0]
	at org.springframework.data.repository.core.support.RepositoryComposition$RepositoryFragments.invoke(RepositoryComposition.java:516) ~[spring-data-commons-3.0.0.jar:3.0.0]
	at org.springframework.data.repository.core.support.RepositoryComposition.invoke(RepositoryComposition.java:285) ~[spring-data-commons-3.0.0.jar:3.0.0]
	at org.springframework.data.repository.core.support.RepositoryFactorySupport$ImplementationMethodExecutionInterceptor.invoke(RepositoryFactorySupport.java:628) ~[spring-data-commons-3.0.0.jar:3.0.0]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.0.3.jar:6.0.3]
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:168) ~[spring-data-commons-3.0.0.jar:3.0.0]
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:143) ~[spring-data-commons-3.0.0.jar:3.0.0]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.0.3.jar:6.0.3]
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123) ~[spring-tx-6.0.3.jar:6.0.3]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:388) ~[spring-tx-6.0.3.jar:6.0.3]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-6.0.3.jar:6.0.3]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.0.3.jar:6.0.3]
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:137) ~[spring-tx-6.0.3.jar:6.0.3]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.0.3.jar:6.0.3]
	at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:163) ~[spring-data-jpa-3.0.0.jar:3.0.0]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.0.3.jar:6.0.3]
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97) ~[spring-aop-6.0.3.jar:6.0.3]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.0.3.jar:6.0.3]
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:218) ~[spring-aop-6.0.3.jar:6.0.3]
	at jdk.proxy3.$Proxy154.deleteById(Unknown Source) ~[?:?]
	at io.eventdriven.ecommerce.core.projections.JPAProjection.deleteById(JPAProjection.java:57) ~[main/:?]
	at io.eventdriven.ecommerce.shoppingcarts.gettingcarts.ShoppingCartShortInfoProjection.handleShoppingCartCanceled(ShoppingCartShortInfoProjection.java:61) ~[main/:?]
	at jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[?:?]
	at jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[?:?]
	at jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[?:?]
	at java.lang.reflect.Method.invoke(Method.java:568) ~[?:?]
	at org.springframework.context.event.ApplicationListenerMethodAdapter.doInvoke(ApplicationListenerMethodAdapter.java:343) ~[spring-context-6.0.3.jar:6.0.3]
	at org.springframework.context.event.ApplicationListenerMethodAdapter.processEvent(ApplicationListenerMethodAdapter.java:228) ~[spring-context-6.0.3.jar:6.0.3]
	at org.springframework.context.event.ApplicationListenerMethodAdapter.onApplicationEvent(ApplicationListenerMethodAdapter.java:165) ~[spring-context-6.0.3.jar:6.0.3]
	at org.springframework.context.event.SimpleApplicationEventMulticaster.doInvokeListener(SimpleApplicationEventMulticaster.java:176) ~[spring-context-6.0.3.jar:6.0.3]
	at org.springframework.context.event.SimpleApplicationEventMulticaster.invokeListener(SimpleApplicationEventMulticaster.java:169) ~[spring-context-6.0.3.jar:6.0.3]
	at org.springframework.context.event.SimpleApplicationEventMulticaster.multicastEvent(SimpleApplicationEventMulticaster.java:143) ~[spring-context-6.0.3.jar:6.0.3]
	at org.springframework.context.support.AbstractApplicationContext.publishEvent(AbstractApplicationContext.java:413) ~[spring-context-6.0.3.jar:6.0.3]
	at org.springframework.context.support.AbstractApplicationContext.publishEvent(AbstractApplicationContext.java:383) ~[spring-context-6.0.3.jar:6.0.3]
	at io.eventdriven.ecommerce.core.events.EventForwarder.publish(EventForwarder.java:11) ~[main/:?]
	at io.eventdriven.ecommerce.core.subscriptions.EventStoreDBSubscriptionToAll.handleEvent(EventStoreDBSubscriptionToAll.java:125) ~[main/:?]
	at io.eventdriven.ecommerce.core.subscriptions.EventStoreDBSubscriptionToAll$1.onEvent(EventStoreDBSubscriptionToAll.java:29) ~[main/:?]
	at com.eventstore.dbclient.AbstractRegularSubscription$1.onNext(AbstractRegularSubscription.java:95) ~[db-client-java-4.0.0.jar:?]
	at com.eventstore.dbclient.AbstractRegularSubscription$1.onNext(AbstractRegularSubscription.java:50) ~[db-client-java-4.0.0.jar:?]
	at io.grpc.stub.ClientCalls$StreamObserverToCallListenerAdapter.onMessage(ClientCalls.java:465) ~[grpc-stub-1.45.0.jar:1.45.0]
	at io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1MessagesAvailable.runInternal(ClientCallImpl.java:661) ~[grpc-core-1.45.0.jar:1.45.0]
	at io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1MessagesAvailable.runInContext(ClientCallImpl.java:646) ~[grpc-core-1.45.0.jar:1.45.0]
	at io.grpc.internal.ContextRunnable.run(ContextRunnable.java:37) ~[grpc-core-1.45.0.jar:1.45.0]
	at io.grpc.internal.SerializingExecutor.run(SerializingExecutor.java:133) ~[grpc-core-1.45.0.jar:1.45.0]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136) ~[?:?]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635) ~[?:?]
	at java.lang.Thread.run(Thread.java:833) ~[?:?]
2023-01-04 15:41:09,544 INFO i.e.e.a.c.OpenShoppingCartTests [Test worker] Starting OpenShoppingCartTests using Java 17.0.4.1 with PID 583 (started by oskar in /home/oskar/Repos/EventSourcing.JVM/samples/event-sourcing-esdb-simple)
2023-01-04 15:41:09,562 DEBUG i.e.e.a.c.OpenShoppingCartTests [Test worker] Running with Spring Boot v3.0.1, Spring v6.0.3
2023-01-04 15:41:09,565 INFO i.e.e.a.c.OpenShoppingCartTests [Test worker] No active profile set, falling back to 1 default profile: "default"
2023-01-04 15:41:15,702 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [Test worker] Subscribing to all 'default'
2023-01-04 15:41:18,715 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-0] Checkpoint event - ignoring
2023-01-04 15:41:47,811 INFO i.e.e.a.c.OpenShoppingCartTests [Test worker] Started OpenShoppingCartTests in 38.666 seconds (process running for 40.81)
2023-01-04 15:42:07,346 ERROR i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-0] Subscription was dropped
io.grpc.StatusRuntimeException: INTERNAL: Connection closed after GOAWAY. HTTP/2 error code: INTERNAL_ERROR
	at io.grpc.Status.asRuntimeException(Status.java:535) ~[grpc-api-1.45.0.jar:1.45.0]
	at io.grpc.stub.ClientCalls$StreamObserverToCallListenerAdapter.onClose(ClientCalls.java:478) ~[grpc-stub-1.45.0.jar:1.45.0]
	at io.grpc.internal.ClientCallImpl.closeObserver(ClientCallImpl.java:562) ~[grpc-core-1.45.0.jar:1.45.0]
	at io.grpc.internal.ClientCallImpl.access$300(ClientCallImpl.java:70) ~[grpc-core-1.45.0.jar:1.45.0]
	at io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInternal(ClientCallImpl.java:743) ~[grpc-core-1.45.0.jar:1.45.0]
	at io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInContext(ClientCallImpl.java:722) ~[grpc-core-1.45.0.jar:1.45.0]
	at io.grpc.internal.ContextRunnable.run(ContextRunnable.java:37) ~[grpc-core-1.45.0.jar:1.45.0]
	at io.grpc.internal.SerializingExecutor.run(SerializingExecutor.java:133) ~[grpc-core-1.45.0.jar:1.45.0]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136) ~[?:?]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635) ~[?:?]
	at java.lang.Thread.run(Thread.java:833) ~[?:?]
2023-01-04 15:42:07,355 ERROR i.g.i.SerializingExecutor [grpc-default-executor-0] Exception while executing runnable io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed@e1eae3d
java.lang.RuntimeException: io.grpc.StatusRuntimeException: INTERNAL: Connection closed after GOAWAY. HTTP/2 error code: INTERNAL_ERROR
	at io.eventdriven.ecommerce.core.subscriptions.EventStoreDBSubscriptionToAll$1.onError(EventStoreDBSubscriptionToAll.java:40) ~[main/:?]
	at com.eventstore.dbclient.AbstractRegularSubscription$1.onError(AbstractRegularSubscription.java:120) ~[db-client-java-4.0.0.jar:?]
	at io.grpc.stub.ClientCalls$StreamObserverToCallListenerAdapter.onClose(ClientCalls.java:478) ~[grpc-stub-1.45.0.jar:1.45.0]
	at io.grpc.internal.ClientCallImpl.closeObserver(ClientCallImpl.java:562) ~[grpc-core-1.45.0.jar:1.45.0]
	at io.grpc.internal.ClientCallImpl.access$300(ClientCallImpl.java:70) ~[grpc-core-1.45.0.jar:1.45.0]
	at io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInternal(ClientCallImpl.java:743) ~[grpc-core-1.45.0.jar:1.45.0]
	at io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInContext(ClientCallImpl.java:722) ~[grpc-core-1.45.0.jar:1.45.0]
	at io.grpc.internal.ContextRunnable.run(ContextRunnable.java:37) ~[grpc-core-1.45.0.jar:1.45.0]
	at io.grpc.internal.SerializingExecutor.run(SerializingExecutor.java:133) ~[grpc-core-1.45.0.jar:1.45.0]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136) ~[?:?]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635) ~[?:?]
	at java.lang.Thread.run(Thread.java:833) ~[?:?]
Caused by: io.grpc.StatusRuntimeException: INTERNAL: Connection closed after GOAWAY. HTTP/2 error code: INTERNAL_ERROR
	at io.grpc.Status.asRuntimeException(Status.java:535) ~[grpc-api-1.45.0.jar:1.45.0]
	... 10 more
2023-01-04 15:42:21,940 INFO i.e.e.a.c.OpenShoppingCartTests [Test worker] Starting OpenShoppingCartTests using Java 17.0.4.1 with PID 987 (started by oskar in /home/oskar/Repos/EventSourcing.JVM/samples/event-sourcing-esdb-simple)
2023-01-04 15:42:21,948 DEBUG i.e.e.a.c.OpenShoppingCartTests [Test worker] Running with Spring Boot v3.0.1, Spring v6.0.3
2023-01-04 15:42:21,949 INFO i.e.e.a.c.OpenShoppingCartTests [Test worker] No active profile set, falling back to 1 default profile: "default"
2023-01-04 15:42:27,579 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [Test worker] Subscribing to all 'default'
2023-01-04 15:42:27,603 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-0] Checkpoint event - ignoring
2023-01-04 15:42:27,616 INFO i.e.e.a.c.OpenShoppingCartTests [Test worker] Started OpenShoppingCartTests in 6.028 seconds (process running for 7.518)
2023-01-04 15:42:58,499 ERROR i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-0] Error while handling event
java.lang.RuntimeException: java.util.concurrent.ExecutionException: com.eventstore.dbclient.ConnectionShutdownException: The connection is closed
	at io.eventdriven.ecommerce.core.subscriptions.EventStoreDBSubscriptionCheckpointRepository.store(EventStoreDBSubscriptionCheckpointRepository.java:64) ~[main/:?]
	at io.eventdriven.ecommerce.core.subscriptions.EventStoreDBSubscriptionToAll.handleEvent(EventStoreDBSubscriptionToAll.java:127) ~[main/:?]
	at io.eventdriven.ecommerce.core.subscriptions.EventStoreDBSubscriptionToAll$1.onEvent(EventStoreDBSubscriptionToAll.java:29) ~[main/:?]
	at com.eventstore.dbclient.AbstractRegularSubscription$1.onNext(AbstractRegularSubscription.java:95) ~[db-client-java-4.0.0.jar:?]
	at com.eventstore.dbclient.AbstractRegularSubscription$1.onNext(AbstractRegularSubscription.java:50) ~[db-client-java-4.0.0.jar:?]
	at io.grpc.stub.ClientCalls$StreamObserverToCallListenerAdapter.onMessage(ClientCalls.java:465) ~[grpc-stub-1.45.0.jar:1.45.0]
	at io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1MessagesAvailable.runInternal(ClientCallImpl.java:661) ~[grpc-core-1.45.0.jar:1.45.0]
	at io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1MessagesAvailable.runInContext(ClientCallImpl.java:646) ~[grpc-core-1.45.0.jar:1.45.0]
	at io.grpc.internal.ContextRunnable.run(ContextRunnable.java:37) ~[grpc-core-1.45.0.jar:1.45.0]
	at io.grpc.internal.SerializingExecutor.run(SerializingExecutor.java:133) ~[grpc-core-1.45.0.jar:1.45.0]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136) ~[?:?]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635) ~[?:?]
	at java.lang.Thread.run(Thread.java:833) ~[?:?]
Caused by: java.util.concurrent.ExecutionException: com.eventstore.dbclient.ConnectionShutdownException: The connection is closed
	at java.util.concurrent.CompletableFuture.reportGet(CompletableFuture.java:396) ~[?:?]
	at java.util.concurrent.CompletableFuture.get(CompletableFuture.java:2073) ~[?:?]
	at io.eventdriven.ecommerce.core.subscriptions.EventStoreDBSubscriptionCheckpointRepository.store(EventStoreDBSubscriptionCheckpointRepository.java:61) ~[main/:?]
	... 12 more
Caused by: com.eventstore.dbclient.ConnectionShutdownException: The connection is closed
	at com.eventstore.dbclient.GrpcClient.handleMsg(GrpcClient.java:230) ~[db-client-java-4.0.0.jar:?]
	at com.eventstore.dbclient.GrpcClient.messageLoop(GrpcClient.java:296) ~[db-client-java-4.0.0.jar:?]
	at java.util.concurrent.CompletableFuture$AsyncRun.run(CompletableFuture.java:1804) ~[?:?]
	... 3 more
2023-01-04 15:44:20,916 INFO i.e.e.a.c.AddProductItemToShoppingCartTests [Test worker] Starting AddProductItemToShoppingCartTests using Java 17.0.4.1 with PID 1446 (started by oskar in /home/oskar/Repos/EventSourcing.JVM/samples/event-sourcing-esdb-simple)
2023-01-04 15:44:20,926 DEBUG i.e.e.a.c.AddProductItemToShoppingCartTests [Test worker] Running with Spring Boot v3.0.1, Spring v6.0.3
2023-01-04 15:44:20,928 INFO i.e.e.a.c.AddProductItemToShoppingCartTests [Test worker] No active profile set, falling back to 1 default profile: "default"
2023-01-04 15:44:26,682 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [Test worker] Subscribing to all 'default'
2023-01-04 15:44:26,707 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-0] Checkpoint event - ignoring
2023-01-04 15:44:26,723 INFO i.e.e.a.c.AddProductItemToShoppingCartTests [Test worker] Started AddProductItemToShoppingCartTests in 6.23 seconds (process running for 7.745)
2023-01-04 15:44:43,784 INFO i.e.e.a.c.RemoveProductItemFromShoppingCartTests [Test worker] Starting RemoveProductItemFromShoppingCartTests using Java 17.0.4.1 with PID 1836 (started by oskar in /home/oskar/Repos/EventSourcing.JVM/samples/event-sourcing-esdb-simple)
2023-01-04 15:44:43,795 DEBUG i.e.e.a.c.RemoveProductItemFromShoppingCartTests [Test worker] Running with Spring Boot v3.0.1, Spring v6.0.3
2023-01-04 15:44:43,796 INFO i.e.e.a.c.RemoveProductItemFromShoppingCartTests [Test worker] No active profile set, falling back to 1 default profile: "default"
2023-01-04 15:44:49,458 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [Test worker] Subscribing to all 'default'
2023-01-04 15:44:49,478 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-0] Checkpoint event - ignoring
2023-01-04 15:44:49,499 INFO i.e.e.a.c.RemoveProductItemFromShoppingCartTests [Test worker] Started RemoveProductItemFromShoppingCartTests in 6.088 seconds (process running for 7.644)
2023-01-04 15:44:52,521 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-2] Checkpoint event - ignoring
2023-01-04 15:44:52,523 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-2] Checkpoint event - ignoring
2023-01-04 15:44:53,532 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-2] Checkpoint event - ignoring
2023-01-04 15:45:22,789 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-0] Checkpoint event - ignoring
2023-01-04 15:45:38,292 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-1] Checkpoint event - ignoring
2023-01-04 15:45:46,847 INFO i.e.e.a.c.RemoveProductItemFromShoppingCartTests [Test worker] Starting RemoveProductItemFromShoppingCartTests using Java 17.0.4.1 with PID 2247 (started by oskar in /home/oskar/Repos/EventSourcing.JVM/samples/event-sourcing-esdb-simple)
2023-01-04 15:45:46,855 DEBUG i.e.e.a.c.RemoveProductItemFromShoppingCartTests [Test worker] Running with Spring Boot v3.0.1, Spring v6.0.3
2023-01-04 15:45:46,856 INFO i.e.e.a.c.RemoveProductItemFromShoppingCartTests [Test worker] No active profile set, falling back to 1 default profile: "default"
2023-01-04 15:45:51,834 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [Test worker] Subscribing to all 'default'
2023-01-04 15:45:51,855 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-0] Checkpoint event - ignoring
2023-01-04 15:45:51,865 INFO i.e.e.a.c.RemoveProductItemFromShoppingCartTests [Test worker] Started RemoveProductItemFromShoppingCartTests in 5.321 seconds (process running for 6.655)
2023-01-04 15:45:52,492 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-0] Checkpoint event - ignoring
2023-01-04 15:45:52,493 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-0] Checkpoint event - ignoring
2023-01-04 15:45:52,639 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-0] Checkpoint event - ignoring
2023-01-04 15:45:57,641 ERROR i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-0] Subscription was dropped
io.grpc.StatusRuntimeException: UNAVAILABLE: Channel shutdownNow invoked
	at io.grpc.Status.asRuntimeException(Status.java:535) ~[grpc-api-1.45.0.jar:1.45.0]
	at io.grpc.stub.ClientCalls$StreamObserverToCallListenerAdapter.onClose(ClientCalls.java:478) ~[grpc-stub-1.45.0.jar:1.45.0]
	at io.grpc.internal.ClientCallImpl.closeObserver(ClientCallImpl.java:562) ~[grpc-core-1.45.0.jar:1.45.0]
	at io.grpc.internal.ClientCallImpl.access$300(ClientCallImpl.java:70) ~[grpc-core-1.45.0.jar:1.45.0]
	at io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInternal(ClientCallImpl.java:743) ~[grpc-core-1.45.0.jar:1.45.0]
	at io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInContext(ClientCallImpl.java:722) ~[grpc-core-1.45.0.jar:1.45.0]
	at io.grpc.internal.ContextRunnable.run(ContextRunnable.java:37) ~[grpc-core-1.45.0.jar:1.45.0]
	at io.grpc.internal.SerializingExecutor.run(SerializingExecutor.java:133) ~[grpc-core-1.45.0.jar:1.45.0]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136) ~[?:?]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635) ~[?:?]
	at java.lang.Thread.run(Thread.java:833) ~[?:?]
2023-01-04 15:46:01,366 INFO i.e.e.a.c.AddProductItemToShoppingCartTests [Test worker] Starting AddProductItemToShoppingCartTests using Java 17.0.4.1 with PID 2636 (started by oskar in /home/oskar/Repos/EventSourcing.JVM/samples/event-sourcing-esdb-simple)
2023-01-04 15:46:01,375 DEBUG i.e.e.a.c.AddProductItemToShoppingCartTests [Test worker] Running with Spring Boot v3.0.1, Spring v6.0.3
2023-01-04 15:46:01,377 INFO i.e.e.a.c.AddProductItemToShoppingCartTests [Test worker] No active profile set, falling back to 1 default profile: "default"
2023-01-04 15:46:06,253 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [Test worker] Subscribing to all 'default'
2023-01-04 15:46:06,272 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-0] Checkpoint event - ignoring
2023-01-04 15:46:06,285 INFO i.e.e.a.c.AddProductItemToShoppingCartTests [Test worker] Started AddProductItemToShoppingCartTests in 5.254 seconds (process running for 7.116)
2023-01-04 15:46:06,875 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-2] Checkpoint event - ignoring
2023-01-04 15:46:06,948 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-2] Checkpoint event - ignoring
2023-01-04 15:46:06,984 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-0] Checkpoint event - ignoring
2023-01-04 15:46:06,986 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-0] Checkpoint event - ignoring
2023-01-04 15:46:07,027 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-2] Checkpoint event - ignoring
2023-01-04 15:46:07,028 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-2] Checkpoint event - ignoring
2023-01-04 15:46:07,064 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-2] Checkpoint event - ignoring
2023-01-04 15:46:07,134 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-2] Checkpoint event - ignoring
2023-01-04 15:46:07,177 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-2] Checkpoint event - ignoring
2023-01-04 15:46:07,215 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-0] Checkpoint event - ignoring
2023-01-04 15:46:07,246 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-2] Checkpoint event - ignoring
2023-01-04 15:46:07,289 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-2] Checkpoint event - ignoring
2023-01-04 15:46:07,291 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-2] Checkpoint event - ignoring
2023-01-04 15:46:07,322 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-2] Checkpoint event - ignoring
2023-01-04 15:46:07,323 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-2] Checkpoint event - ignoring
2023-01-04 15:46:07,401 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-2] Checkpoint event - ignoring
2023-01-04 15:46:07,444 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-2] Checkpoint event - ignoring
2023-01-04 15:46:07,489 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-2] Checkpoint event - ignoring
2023-01-04 15:46:07,535 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-2] Checkpoint event - ignoring
2023-01-04 15:46:07,609 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-0] Checkpoint event - ignoring
2023-01-04 15:46:07,644 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-0] Checkpoint event - ignoring
2023-01-04 15:46:07,645 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-0] Checkpoint event - ignoring
2023-01-04 15:46:07,685 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-0] Checkpoint event - ignoring
2023-01-04 15:46:07,762 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-0] Checkpoint event - ignoring
2023-01-04 15:46:07,795 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-0] Checkpoint event - ignoring
2023-01-04 15:46:07,832 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-2] Checkpoint event - ignoring
2023-01-04 15:46:07,833 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-2] Checkpoint event - ignoring
2023-01-04 15:46:07,916 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-0] Checkpoint event - ignoring
2023-01-04 15:46:07,954 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-2] Checkpoint event - ignoring
2023-01-04 15:46:07,997 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-0] Checkpoint event - ignoring
2023-01-04 15:46:08,056 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-2] Checkpoint event - ignoring
2023-01-04 15:46:08,091 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-1] Checkpoint event - ignoring
2023-01-04 15:46:08,092 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-1] Checkpoint event - ignoring
2023-01-04 15:46:08,130 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-2] Checkpoint event - ignoring
2023-01-04 15:46:08,159 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-2] Checkpoint event - ignoring
2023-01-04 15:46:08,191 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-1] Checkpoint event - ignoring
2023-01-04 15:46:08,226 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-0] Checkpoint event - ignoring
2023-01-04 15:46:08,259 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-0] Checkpoint event - ignoring
2023-01-04 15:46:08,291 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-0] Checkpoint event - ignoring
2023-01-04 15:46:08,330 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-1] Checkpoint event - ignoring
2023-01-04 15:46:08,361 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-1] Checkpoint event - ignoring
2023-01-04 15:46:08,400 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-0] Checkpoint event - ignoring
2023-01-04 15:46:08,426 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-0] Checkpoint event - ignoring
2023-01-04 15:46:08,427 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-0] Checkpoint event - ignoring
2023-01-04 15:46:08,462 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-0] Checkpoint event - ignoring
2023-01-04 15:46:08,550 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-1] Checkpoint event - ignoring
2023-01-04 15:46:08,597 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-0] Checkpoint event - ignoring
2023-01-04 15:46:08,631 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-1] Checkpoint event - ignoring
2023-01-04 15:46:08,662 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-0] Checkpoint event - ignoring
2023-01-04 15:46:08,692 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-1] Checkpoint event - ignoring
2023-01-04 15:46:08,727 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-1] Checkpoint event - ignoring
2023-01-04 15:46:08,728 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-1] Checkpoint event - ignoring
2023-01-04 15:46:08,845 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-1] Checkpoint event - ignoring
2023-01-04 15:46:08,845 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-1] Checkpoint event - ignoring
2023-01-04 15:46:08,922 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-2] Checkpoint event - ignoring
2023-01-04 15:46:08,923 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-2] Checkpoint event - ignoring
2023-01-04 15:46:09,099 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-2] Checkpoint event - ignoring
2023-01-04 15:46:09,129 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-0] Checkpoint event - ignoring
2023-01-04 15:46:09,166 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-0] Checkpoint event - ignoring
2023-01-04 15:46:09,167 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-0] Checkpoint event - ignoring
2023-01-04 15:46:09,331 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-0] Checkpoint event - ignoring
2023-01-04 15:46:09,366 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-0] Checkpoint event - ignoring
2023-01-04 15:46:09,367 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-0] Checkpoint event - ignoring
2023-01-04 15:46:09,539 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-0] Checkpoint event - ignoring
2023-01-04 15:46:09,540 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-0] Checkpoint event - ignoring
2023-01-04 15:46:09,697 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-0] Checkpoint event - ignoring
2023-01-04 15:46:09,698 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-0] Checkpoint event - ignoring
2023-01-04 15:46:09,852 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-0] Checkpoint event - ignoring
2023-01-04 15:46:09,853 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-0] Checkpoint event - ignoring
2023-01-04 15:46:10,020 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-0] Checkpoint event - ignoring
2023-01-04 15:46:10,021 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-0] Checkpoint event - ignoring
2023-01-04 15:46:10,187 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-0] Checkpoint event - ignoring
2023-01-04 15:46:10,188 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-0] Checkpoint event - ignoring
2023-01-04 15:46:10,363 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-0] Checkpoint event - ignoring
2023-01-04 15:46:10,364 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-0] Checkpoint event - ignoring
2023-01-04 15:46:10,532 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-2] Checkpoint event - ignoring
2023-01-04 15:46:10,532 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-2] Checkpoint event - ignoring
2023-01-04 15:46:10,718 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-2] Checkpoint event - ignoring
2023-01-04 15:46:10,719 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-2] Checkpoint event - ignoring
2023-01-04 15:46:10,881 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-2] Checkpoint event - ignoring
2023-01-04 15:46:10,882 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-2] Checkpoint event - ignoring
2023-01-04 15:46:11,013 INFO i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-0] Checkpoint event - ignoring
2023-01-04 15:46:16,022 ERROR i.e.e.c.s.EventStoreDBSubscriptionToAll [grpc-default-executor-0] Subscription was dropped
io.grpc.StatusRuntimeException: UNAVAILABLE: Channel shutdownNow invoked
	at io.grpc.Status.asRuntimeException(Status.java:535) ~[grpc-api-1.45.0.jar:1.45.0]
	at io.grpc.stub.ClientCalls$StreamObserverToCallListenerAdapter.onClose(ClientCalls.java:478) ~[grpc-stub-1.45.0.jar:1.45.0]
	at io.grpc.internal.ClientCallImpl.closeObserver(ClientCallImpl.java:562) ~[grpc-core-1.45.0.jar:1.45.0]
	at io.grpc.internal.ClientCallImpl.access$300(ClientCallImpl.java:70) ~[grpc-core-1.45.0.jar:1.45.0]
	at io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInternal(ClientCallImpl.java:743) ~[grpc-core-1.45.0.jar:1.45.0]
	at io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInContext(ClientCallImpl.java:722) ~[grpc-core-1.45.0.jar:1.45.0]
	at io.grpc.internal.ContextRunnable.run(ContextRunnable.java:37) ~[grpc-core-1.45.0.jar:1.45.0]
	at io.grpc.internal.SerializingExecutor.run(SerializingExecutor.java:133) ~[grpc-core-1.45.0.jar:1.45.0]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136) ~[?:?]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635) ~[?:?]
	at java.lang.Thread.run(Thread.java:833) ~[?:?]
